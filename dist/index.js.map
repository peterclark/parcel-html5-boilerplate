{"version":3,"sources":["../node_modules/imba/src/imba/imba.imba","../node_modules/imba/src/imba/scheduler.imba","../node_modules/imba/src/imba/dom/manager.imba","../node_modules/imba/src/imba/dom/pointer.imba","../node_modules/imba/src/imba/dom/event-manager.imba","../node_modules/imba/src/imba/dom/tag.imba","../node_modules/imba/src/imba/dom/html.imba","../node_modules/imba/src/imba/dom/touch.imba","../node_modules/imba/src/imba/dom/event.imba","../node_modules/imba/src/imba/dom/reconciler.imba","../node_modules/imba/src/imba/dom/index.imba","../node_modules/imba/src/imba/index.imba","../node_modules/imba/imba.imba","index.imba"],"names":["Imba","VERSION","delay","block","setTimeout","commit","interval","setInterval","id","clearInterval","clearTimeout","obj","sup","k","v","hasOwnProperty","prototype","Object","create","__super__","initialize","constructor","o","toArray","value","Array","console","warn","Promise","all","then","resolve","dashRegex","setterCache","toCamelCase","str","indexOf","replace","m","charAt","toUpperCase","toSetter","a","b","call","len","Function","length","prop","scope","name","opts","defineProperty","attr","undefined","defineAttribute","getName","setName","proto","dom","getAttribute","setAttribute","propDidSet","object","property","val","prev","fn","watch","String","emit__","event","args","node","cb","next","listener","path","apply","times","listen","cbs","list","tail","__listeners__","once","unlisten","meth","meta","emit","params","observeProperty","observer","key","trigger","target","module","exports","iter$","requestAnimationFrame","cancelAnimationFrame","require","Ticker","self","_queue","_stage","_scheduled","_ticker","e","tick","window","mozCancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","blk","stage","setStage","queue","setQueue","add","item","force","push","schedule","timestamp","items","_ts","_dt","before","i","ary","after","TagManager","refresh","TICKER","SCHEDULERS","ticker","callback","commitQueue","Scheduler","_id","counter","_target","_marked","_active","_marker","mark","_frame","_timestamp","_ticks","_flushes","onevent","bind","__raf","raf","_raf","setRaf","rafDidSet","__interval","_interval","intervalDidSet","__events","events","_events","setEvents","eventsDidSet","marked","setMarked","bool","requestTick","time","_intervalId","oninterval","new$","active","dt","configure","options","flush","delta","activate","immediate","_commit","flag","deactivate","idx","splice","unflag","track","type","TagManagerClass","_inserts","_removes","_mounted","_mountables","_unmountables","_unmounting","mounted","insert","parent","mount","regMountable","remove","changes","tryMount","tryUnmount","unmount","FLAGS","TAG_MOUNTABLE","count","el","document","body","querySelectorAll","_tag","mountNode","TAG_MOUNTED","documentElement","contains","_dom","filter","_scheduler","unschedule","Pointer","_button","_event","x","y","button","touch","_touch","update","_dirty","process","e1","_prevEvent","cancel","Touch","mousedown","mousemove","mouseup","idle","native$","EventManager","pars","_shimFocusEvents","netscape","onfocusin","setRoot","setListeners","setDelegators","setDelegator","delegate","register","root","_root","_count","setCount","__enabled","enabled","_enabled","setEnabled","enabledDidSet","listeners","_listeners","delegators","_delegators","delegator","_delegator","initialBind","onenable","ondisable","Events","autoregister","POINTER","ontouchstart","ontouchmove","ontouchend","ontouchcancel","timeStamp","LastTimestamp","TapTimeout","_imbaSimulatedTap","tap","Event","setType","_responder","defaultPrevented","preventDefault","handler","addEventListener","capture","wrap","data","source","setData","setSource","arguments","keys","l","removeEventListener","CSSKeyMap","TAG_BUILT","TAG_SETUP","TAG_MOUNTING","TAG_SCHEDULED","TAG_AWAKENED","TAG_AUTOCLASS_GLOBALS","TAG_AUTOCLASS_LOCALS","TAG_AUTOCLASS_SVG","getTagForDom","static","typ","nr","_type","into","appendChild","scheduler","createTextNode","nodeType","Tag","ctx","setDom","$","TagCache","build","$up","_owner_","_tree_","buildNode","createElement","_nodeType","_classes","cls","join","className","createNode","_protoDom","cloneNode","end","inherit","child","slice","_flagName","_name","optimizeTagStructure","ctor","classList","test","title","setTitle","_slot_","ref","_ref","ref_","_data","bindData","setHtml","html","innerHTML","on$","slot","context","handlers","_on_","state","setId","removeAttribute","setNestedAttr","ns","modifiers","setAttributeNS","getAttributeNS","removeAttributeNS","set","mods","setter","get","setContent","content","setChildren","nodes","setTemplate","template","_template","render","renderTemplate","removeChild","par","parentNode","removeAllChildren","firstChild","_text_","insertBefore","rel","detachFromParent","_placeholder_","createComment","replaceChild","attachToParent","orphanize","text","textContent","setText","txt","dataset","atr","attributes","substr","setup","beforeRender","$open","_context_","synced","awaken","flags","toggler","toggle","toggleFlag","hasFlag","flagIf","f","_flags_","setFlag","_namedFlags_","children","sel","res","querySelector","q","matches","query","matchesSelector","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","closest","log","$0","unshift","css","mod","style","removeProperty","match","setProperty","Number","px","setStyle","focus","blur","toString","outerHTML","SVGTag","subclass","namespaceURI","createElementNS","baseVal","classes","HTML_TAGS","split","HTML_TAGS_UNSAFE","HTML_ATTRS","audio","area","base","video","fieldset","form","embed","input","label","img","link","iframe","map","optgroup","option","output","param","progress","script","select","textarea","td","th","HTML_PROPS","extender","owner","TagMap","cache","cache$","key$","par$","i$","Tags","__clone","clone","_parent","defineNamespace","_ns","baseType","defineTag","fullName","supr","nsidx","supertype","findTagType","tagtype","SINGLETONS","TAGS","defined","optimizeTag","defineSingleton","extendTag","klass","extended","prototype_","attrs","props","pref","$key","createTagCache","createTagMap","createTagList","createTagLoopResult","$iter","$prune","element","htmlelement","defineSingletonTag","getTagSingleton","Instance","getElementById","styles","prefixed","unprefixed","camelCase","svgSupport","SVGElement","nodeName","toLowerCase","DataProxy","_node","_path","_args","_setter","tag","createDocumentFragment","getContext","receiver","getFormValue","setFormValue","isArray","sort","isSimilarArray","lazy","_lazy","setLazy","number","_number","setNumber","checked","setChecked","setValue","_localValue","_value","parseFloat","oninput","onchange","_modelValue","mval","dval","onblur","syncing","syncValue","_syncValue","multiple","mult","opt","oval","selected","selectedIndex","selectedOptions","pointer","setEvent","setActive","_suppress","_captured","setBubble","setUpdates","touches","identifiers","lookup","__touch__","identifier","release","t","changedTouches","touchstart","touchmove","touchend","touchcancel","onmousedown","onmousemove","onmouseup","phase","_phase","setPhase","_pointer","setPointer","setTarget","_handler","setHandler","updates","_updates","suppress","setSuppress","__bubble","chainable","bubble","_bubble","setTimestamp","gestures","_gestures","setGestures","stopPropagation","_selblocker","isCaptured","extend","plugin","redirect","_redirect","_supress","_x","clientX","_y","clientY","began","ended","_maxdr","_mousemove","move","Date","now","_dr","_x0","_y0","_sourceTarget","target_","_cancelled","dr","Math","sqrt","dx","dy","ontouchupdate","g","cleanup_","cancelled","x0","y0","tx","_targetBox","getBoundingClientRect","left","ty","top","sourceTarget","elapsed","TouchGesture","__active","keyCodes","esc","tab","enter","space","up","down","stopModifier","stop","preventModifier","prevent","silenceModifier","silence","bubbleModifier","ctrlModifier","ctrlKey","altModifier","altKey","shiftModifier","shiftKey","metaModifier","metaKey","keyModifier","keyCode","delModifier","selfModifier","leftModifier","rightModifier","middleModifier","getHandler","prefix","_prefix","setPrefix","_source","responder","setResponder","native","halt","isPrevented","_silenced","isSilenced","processHandlers","isMod","checkSpecial","concat","domnode","result","domtarget","processed","ctrl","alt","shift","which","removeNested","caret","nextSibling","Text","appendNested","c","taglen","domlen","insertNestedBefore","insertNestedAfter","previousSibling","lastChild","reconcileCollectionChanges","old","newLen","newPos","lastNew","newPosition","prevChain","lengthChain","maxChainLength","maxChainEnd","prevIdx","currLength","cursor","stickyNodes","reconcileCollection","last","reconcileLoop","nl","ol","cl","d","i1","reconcileIndexedArray","array","prevLen","prevLast","reconcileNested","newIsNull","nextNode","oldIsNull","ntyp","_content","apple","navigator","vendor","global","define","amd","_1","App","setSrc","setAlt","setHref"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["\n\nvar Imba = {VERSION: '1.4.4'};\n\n\n\nImba.setTimeout = function (delay,block){\n\treturn setTimeout(function() {\n\t\tblock();\n\t\treturn Imba.commit();\n\t},delay);\n};\n\n\n\nImba.setInterval = function (interval,block){\n\treturn setInterval(function() {\n\t\tblock();\n\t\treturn Imba.commit();\n\t},interval);\n};\n\n\n\nImba.clearInterval = function (id){\n\treturn clearInterval(id);\n};\n\n\n\nImba.clearTimeout = function (id){\n\treturn clearTimeout(id);\n};\n\n\nImba.subclass = function (obj,sup){\n\tfor (let k in sup){\n\t\tlet v;\n\t\tv = sup[k];if (sup.hasOwnProperty(k)) { obj[k] = v };\n\t};\n\t\n\tobj.prototype = Object.create(sup.prototype);\n\tobj.__super__ = obj.prototype.__super__ = sup.prototype;\n\tobj.prototype.initialize = obj.prototype.constructor = obj;\n\treturn obj;\n};\n\n\n\nImba.iterable = function (o){\n\treturn o ? ((o.toArray ? o.toArray() : o)) : [];\n};\n\n\n\nImba.await = function (value){\n\tif (value instanceof Array) {\n\t\tconsole.warn(\"await (Array) is deprecated - use await Promise.all(Array)\");\n\t\treturn Promise.all(value);\n\t} else if (value && value.then) {\n\t\treturn value;\n\t} else {\n\t\treturn Promise.resolve(value);\n\t};\n};\n\nvar dashRegex = /-./g;\nvar setterCache = {};\n\nImba.toCamelCase = function (str){\n\tif (str.indexOf('-') >= 0) {\n\t\treturn str.replace(dashRegex,function(m) { return m.charAt(1).toUpperCase(); });\n\t} else {\n\t\treturn str;\n\t};\n};\n\nImba.toSetter = function (str){\n\treturn setterCache[str] || (setterCache[str] = Imba.toCamelCase('set-' + str));\n};\n\nImba.indexOf = function (a,b){\n\treturn (b && b.indexOf) ? b.indexOf(a) : [].indexOf.call(a,b);\n};\n\nImba.len = function (a){\n\treturn a && ((a.len instanceof Function) ? a.len.call(a) : a.length) || 0;\n};\n\nImba.prop = function (scope,name,opts){\n\tif (scope.defineProperty) {\n\t\treturn scope.defineProperty(name,opts);\n\t};\n\treturn;\n};\n\nImba.attr = function (scope,name,opts){\n\tif(opts === undefined) opts = {};\n\tif (scope.defineAttribute) {\n\t\treturn scope.defineAttribute(name,opts);\n\t};\n\t\n\tlet getName = Imba.toCamelCase(name);\n\tlet setName = Imba.toCamelCase('set-' + name);\n\tlet proto = scope.prototype;\n\t\n\tif (opts.dom) {\n\t\tproto[getName] = function() { return this.dom()[name]; };\n\t\tproto[setName] = function(value) {\n\t\t\tif (value != this[name]()) {\n\t\t\t\tthis.dom()[name] = value;\n\t\t\t};\n\t\t\treturn this;\n\t\t};\n\t} else {\n\t\tproto[getName] = function() { return this.getAttribute(name); };\n\t\tproto[setName] = function(value) {\n\t\t\tthis.setAttribute(name,value);\n\t\t\treturn this;\n\t\t};\n\t};\n\treturn;\n};\n\nImba.propDidSet = function (object,property,val,prev){\n\tlet fn = property.watch;\n\tif (fn instanceof Function) {\n\t\tfn.call(object,val,prev,property);\n\t} else if ((typeof fn=='string'||fn instanceof String) && object[fn]) {\n\t\tobject[fn](val,prev,property);\n\t};\n\treturn;\n};\n\n\n\nvar emit__ = function(event,args,node) {\n\t// var node = cbs[event]\n\tvar prev,cb,ret;\n\t\n\twhile ((prev = node) && (node = node.next)){\n\t\tif (cb = node.listener) {\n\t\t\tif (node.path && cb[node.path]) {\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]();\n\t\t\t} else {\n\t\t\t\t// check if it is a method?\n\t\t\t\tret = args ? cb.apply(node,args) : cb.call(node);\n\t\t\t};\n\t\t};\n\t\t\n\t\tif (node.times && --node.times <= 0) {\n\t\t\tprev.next = node.next;\n\t\t\tnode.listener = null;\n\t\t};\n\t};\n\treturn;\n};\n\n\nImba.listen = function (obj,event,listener,path){\n\tvar cbs,list,tail;\n\tcbs = obj.__listeners__ || (obj.__listeners__ = {});\n\tlist = cbs[event] || (cbs[event] = {});\n\ttail = list.tail || (list.tail = (list.next = {}));\n\ttail.listener = listener;\n\ttail.path = path;\n\tlist.tail = tail.next = {};\n\treturn tail;\n};\n\n\nImba.once = function (obj,event,listener){\n\tvar tail = Imba.listen(obj,event,listener);\n\ttail.times = 1;\n\treturn tail;\n};\n\n\nImba.unlisten = function (obj,event,cb,meth){\n\tvar node,prev;\n\tvar meta = obj.__listeners__;\n\tif (!(meta)) { return };\n\t\n\tif (node = meta[event]) {\n\t\twhile ((prev = node) && (node = node.next)){\n\t\t\tif (node == cb || node.listener == cb) {\n\t\t\t\tprev.next = node.next;\n\t\t\t\t\n\t\t\t\tnode.listener = null;\n\t\t\t\tbreak;\n\t\t\t};\n\t\t};\n\t};\n\treturn;\n};\n\n\nImba.emit = function (obj,event,params){\n\tvar cb;\n\tif (cb = obj.__listeners__) {\n\t\tif (cb[event]) { emit__(event,params,cb[event]) };\n\t\tif (cb.all) { emit__(event,[event,params],cb.all) }; \n\t};\n\treturn;\n};\n\nImba.observeProperty = function (observer,key,trigger,target,prev){\n\tif (prev && typeof prev == 'object') {\n\t\tImba.unlisten(prev,'all',observer,trigger);\n\t};\n\tif (target && typeof target == 'object') {\n\t\tImba.listen(target,'all',observer,trigger);\n\t};\n\treturn this;\n};\n\nmodule.exports = Imba;\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"./imba\");\n\nvar requestAnimationFrame; \nvar cancelAnimationFrame;\n\nif (false) {};\n\nif (true) {\n\tcancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitRequestAnimationFrame;\n\trequestAnimationFrame = window.requestAnimationFrame;\n\trequestAnimationFrame || (requestAnimationFrame = window.webkitRequestAnimationFrame);\n\trequestAnimationFrame || (requestAnimationFrame = window.mozRequestAnimationFrame);\n\trequestAnimationFrame || (requestAnimationFrame = function(blk) { return setTimeout(blk,1000 / 60); });\n};\n\nfunction Ticker(){\n\tvar self = this;\n\tself._queue = [];\n\tself._stage = -1;\n\tself._scheduled = false;\n\tself._ticker = function(e) {\n\t\tself._scheduled = false;\n\t\treturn self.tick(e);\n\t};\n\tself;\n};\n\nTicker.prototype.stage = function(v){ return this._stage; }\nTicker.prototype.setStage = function(v){ this._stage = v; return this; };\nTicker.prototype.queue = function(v){ return this._queue; }\nTicker.prototype.setQueue = function(v){ this._queue = v; return this; };\n\nTicker.prototype.add = function (item,force){\n\tif (force || this._queue.indexOf(item) == -1) {\n\t\tthis._queue.push(item);\n\t};\n\t\n\tif (!this._scheduled) { return this.schedule() };\n};\n\nTicker.prototype.tick = function (timestamp){\n\tvar items = this._queue;\n\tif (!this._ts) { this._ts = timestamp };\n\tthis._dt = timestamp - this._ts;\n\tthis._ts = timestamp;\n\tthis._queue = [];\n\tthis._stage = 1;\n\tthis.before();\n\tif (items.length) {\n\t\tfor (let i = 0, ary = iter$(items), len = ary.length, item; i < len; i++) {\n\t\t\titem = ary[i];\n\t\t\tif (item instanceof Function) {\n\t\t\t\titem(this._dt,this);\n\t\t\t} else if (item.tick) {\n\t\t\t\titem.tick(this._dt,this);\n\t\t\t};\n\t\t};\n\t};\n\tthis._stage = 2;\n\tthis.after();\n\tthis._stage = this._scheduled ? 0 : (-1);\n\treturn this;\n};\n\nTicker.prototype.schedule = function (){\n\tif (!this._scheduled) {\n\t\tthis._scheduled = true;\n\t\tif (this._stage == -1) {\n\t\t\tthis._stage = 0;\n\t\t};\n\t\trequestAnimationFrame(this._ticker);\n\t};\n\treturn this;\n};\n\nTicker.prototype.before = function (){\n\treturn this;\n};\n\nTicker.prototype.after = function (){\n\tif (Imba.TagManager) {\n\t\tImba.TagManager.refresh();\n\t};\n\treturn this;\n};\n\nImba.TICKER = new Ticker();\nImba.SCHEDULERS = [];\n\nImba.ticker = function (){\n\treturn Imba.TICKER;\n};\n\nImba.requestAnimationFrame = function (callback){\n\treturn requestAnimationFrame(callback);\n};\n\nImba.cancelAnimationFrame = function (id){\n\treturn cancelAnimationFrame(id);\n};\n\n\n\n\nvar commitQueue = 0;\n\nImba.commit = function (params){\n\tcommitQueue++;\n\t\n\tImba.emit(Imba,'commit',(params != undefined) ? [params] : undefined);\n\tif (--commitQueue == 0) {\n\t\tImba.TagManager && Imba.TagManager.refresh();\n\t};\n\treturn;\n};\n\n\n\nImba.Scheduler = function Scheduler(target){\n\tvar self = this;\n\tself._id = counter++;\n\tself._target = target;\n\tself._marked = false;\n\tself._active = false;\n\tself._marker = function() { return self.mark(); };\n\tself._ticker = function(e) { return self.tick(e); };\n\t\n\tself._dt = 0;\n\tself._frame = {};\n\tself._scheduled = false;\n\tself._timestamp = 0;\n\tself._ticks = 0;\n\tself._flushes = 0;\n\t\n\tself.onevent = self.onevent.bind(self);\n\tself;\n};\n\nvar counter = 0;\n\nImba.Scheduler.event = function (e){\n\treturn Imba.emit(Imba,'event',e);\n};\n\n\n\nImba.Scheduler.prototype.__raf = {watch: 'rafDidSet',name: 'raf'};\nImba.Scheduler.prototype.raf = function(v){ return this._raf; }\nImba.Scheduler.prototype.setRaf = function(v){\n\tvar a = this.raf();\n\tif(v != a) { this._raf = v; }\n\tif(v != a) { this.rafDidSet && this.rafDidSet(v,a,this.__raf) }\n\treturn this;\n};\nImba.Scheduler.prototype.__interval = {watch: 'intervalDidSet',name: 'interval'};\nImba.Scheduler.prototype.interval = function(v){ return this._interval; }\nImba.Scheduler.prototype.setInterval = function(v){\n\tvar a = this.interval();\n\tif(v != a) { this._interval = v; }\n\tif(v != a) { this.intervalDidSet && this.intervalDidSet(v,a,this.__interval) }\n\treturn this;\n};\nImba.Scheduler.prototype.__events = {watch: 'eventsDidSet',name: 'events'};\nImba.Scheduler.prototype.events = function(v){ return this._events; }\nImba.Scheduler.prototype.setEvents = function(v){\n\tvar a = this.events();\n\tif(v != a) { this._events = v; }\n\tif(v != a) { this.eventsDidSet && this.eventsDidSet(v,a,this.__events) }\n\treturn this;\n};\nImba.Scheduler.prototype.marked = function(v){ return this._marked; }\nImba.Scheduler.prototype.setMarked = function(v){ this._marked = v; return this; };\n\nImba.Scheduler.prototype.rafDidSet = function (bool){\n\tif (bool && this._active) this.requestTick();\n\treturn this;\n};\n\nImba.Scheduler.prototype.intervalDidSet = function (time){\n\tclearInterval(this._intervalId);\n\tthis._intervalId = null;\n\tif (time && this._active) {\n\t\tthis._intervalId = setInterval(this.oninterval.bind(this),time);\n\t};\n\treturn this;\n};\n\nImba.Scheduler.prototype.eventsDidSet = function (new$,prev){\n\tif (this._active && new$ && !(prev)) {\n\t\treturn Imba.listen(Imba,'commit',this,'onevent');\n\t} else if (!(new$) && prev) {\n\t\treturn Imba.unlisten(Imba,'commit',this,'onevent');\n\t};\n};\n\n\n\nImba.Scheduler.prototype.active = function (){\n\treturn this._active;\n};\n\n\n\nImba.Scheduler.prototype.dt = function (){\n\treturn this._dt;\n};\n\n\n\nImba.Scheduler.prototype.configure = function (options){\n\tvar v_;\n\tif(options === undefined) options = {};\n\tif (options.raf != undefined) { (this.setRaf(v_ = options.raf),v_) };\n\tif (options.interval != undefined) { (this.setInterval(v_ = options.interval),v_) };\n\tif (options.events != undefined) { (this.setEvents(v_ = options.events),v_) };\n\treturn this;\n};\n\n\n\nImba.Scheduler.prototype.mark = function (){\n\tthis._marked = true;\n\tif (!this._scheduled) {\n\t\tthis.requestTick();\n\t};\n\treturn this;\n};\n\n\n\nImba.Scheduler.prototype.flush = function (){\n\tthis._flushes++;\n\tthis._target.tick(this);\n\tthis._marked = false;\n\treturn this;\n};\n\n\n\nImba.Scheduler.prototype.tick = function (delta,ticker){\n\tthis._ticks++;\n\tthis._dt = delta;\n\t\n\tif (ticker) {\n\t\tthis._scheduled = false;\n\t};\n\t\n\tthis.flush();\n\t\n\tif (this._raf && this._active) {\n\t\tthis.requestTick();\n\t};\n\treturn this;\n};\n\nImba.Scheduler.prototype.requestTick = function (){\n\tif (!this._scheduled) {\n\t\tthis._scheduled = true;\n\t\tImba.TICKER.add(this);\n\t};\n\treturn this;\n};\n\n\n\nImba.Scheduler.prototype.activate = function (immediate){\n\tif(immediate === undefined) immediate = true;\n\tif (!this._active) {\n\t\tthis._active = true;\n\t\tthis._commit = this._target.commit;\n\t\tthis._target.commit = function() { return this; };\n\t\tthis._target && this._target.flag  &&  this._target.flag('scheduled_');\n\t\tImba.SCHEDULERS.push(this);\n\t\t\n\t\tif (this._events) {\n\t\t\tImba.listen(Imba,'commit',this,'onevent');\n\t\t};\n\t\t\n\t\tif (this._interval && !this._intervalId) {\n\t\t\tthis._intervalId = setInterval(this.oninterval.bind(this),this._interval);\n\t\t};\n\t\t\n\t\tif (immediate) {\n\t\t\tthis.tick(0);\n\t\t} else if (this._raf) {\n\t\t\tthis.requestTick();\n\t\t};\n\t};\n\treturn this;\n};\n\n\n\nImba.Scheduler.prototype.deactivate = function (){\n\tif (this._active) {\n\t\tthis._active = false;\n\t\tthis._target.commit = this._commit;\n\t\tlet idx = Imba.SCHEDULERS.indexOf(this);\n\t\tif (idx >= 0) {\n\t\t\tImba.SCHEDULERS.splice(idx,1);\n\t\t};\n\t\t\n\t\tif (this._events) {\n\t\t\tImba.unlisten(Imba,'commit',this,'onevent');\n\t\t};\n\t\t\n\t\tif (this._intervalId) {\n\t\t\tclearInterval(this._intervalId);\n\t\t\tthis._intervalId = null;\n\t\t};\n\t\t\n\t\tthis._target && this._target.unflag  &&  this._target.unflag('scheduled_');\n\t};\n\treturn this;\n};\n\nImba.Scheduler.prototype.track = function (){\n\treturn this._marker;\n};\n\nImba.Scheduler.prototype.oninterval = function (){\n\tthis.tick();\n\tImba.TagManager.refresh();\n\treturn this;\n};\n\nImba.Scheduler.prototype.onevent = function (event){\n\tif (!this._events || this._marked) { return this };\n\t\n\tif (this._events instanceof Function) {\n\t\tif (this._events(event,this)) this.mark();\n\t} else if (this._events instanceof Array) {\n\t\tif (this._events.indexOf((event && event.type) || event) >= 0) {\n\t\t\tthis.mark();\n\t\t};\n\t} else {\n\t\tthis.mark();\n\t};\n\treturn this;\n};\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\n\nImba.TagManagerClass = function TagManagerClass(){\n\tthis._inserts = 0;\n\tthis._removes = 0;\n\tthis._mounted = [];\n\tthis._mountables = 0;\n\tthis._unmountables = 0;\n\tthis._unmounting = 0;\n\tthis;\n};\n\nImba.TagManagerClass.prototype.mounted = function (){\n\treturn this._mounted;\n};\n\nImba.TagManagerClass.prototype.insert = function (node,parent){\n\tthis._inserts++;\n\tif (node && node.mount) { this.regMountable(node) };\n\t\n\t\n\t\n\treturn;\n};\n\nImba.TagManagerClass.prototype.remove = function (node,parent){\n\treturn this._removes++;\n};\n\n\nImba.TagManagerClass.prototype.changes = function (){\n\treturn this._inserts + this._removes;\n};\n\nImba.TagManagerClass.prototype.mount = function (node){\n\treturn;\n};\n\nImba.TagManagerClass.prototype.refresh = function (force){\n\tif(force === undefined) force = false;\n\tif (false) {};\n\tif (!(force) && this.changes() == 0) { return };\n\t\n\tif ((this._inserts && this._mountables > this._mounted.length) || force) {\n\t\tthis.tryMount();\n\t};\n\t\n\tif ((this._removes || force) && this._mounted.length) {\n\t\tthis.tryUnmount();\n\t};\n\t\n\tthis._inserts = 0;\n\tthis._removes = 0;\n\treturn this;\n};\n\nImba.TagManagerClass.prototype.unmount = function (node){\n\treturn this;\n};\n\nImba.TagManagerClass.prototype.regMountable = function (node){\n\tif (!(node.FLAGS & Imba.TAG_MOUNTABLE)) {\n\t\tnode.FLAGS |= Imba.TAG_MOUNTABLE;\n\t\treturn this._mountables++;\n\t};\n};\n\n\nImba.TagManagerClass.prototype.tryMount = function (){\n\tvar count = 0;\n\tvar root = document.body;\n\tvar items = root.querySelectorAll('.__mount');\n\t\n\tfor (let i = 0, ary = iter$(items), len = ary.length, el; i < len; i++) {\n\t\tel = ary[i];\n\t\tif (el && el._tag) {\n\t\t\tif (this._mounted.indexOf(el._tag) == -1) {\n\t\t\t\tthis.mountNode(el._tag);\n\t\t\t};\n\t\t};\n\t};\n\treturn this;\n};\n\nImba.TagManagerClass.prototype.mountNode = function (node){\n\tif (this._mounted.indexOf(node) == -1) {\n\t\tthis.regMountable(node);\n\t\tthis._mounted.push(node);\n\t\t\n\t\tnode.FLAGS |= Imba.TAG_MOUNTED;\n\t\tif (node.mount) { node.mount() };\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t};\n\treturn;\n};\n\nImba.TagManagerClass.prototype.tryUnmount = function (){\n\tthis._unmounting++;\n\t\n\tvar unmount = [];\n\tvar root = document.body;\n\tfor (let i = 0, items = iter$(this._mounted), len = items.length, item; i < len; i++) {\n\t\titem = items[i];\n\t\tif (!(item)) { continue; };\n\t\tif (!document.documentElement.contains(item._dom)) {\n\t\t\tunmount.push(item);\n\t\t\tthis._mounted[i] = null;\n\t\t};\n\t};\n\t\n\tthis._unmounting--;\n\t\n\tif (unmount.length) {\n\t\tthis._mounted = this._mounted.filter(function(item) { return item && unmount.indexOf(item) == -1; });\n\t\tfor (let i = 0, len = unmount.length, item; i < len; i++) {\n\t\t\titem = unmount[i];\n\t\t\titem.FLAGS = item.FLAGS & ~Imba.TAG_MOUNTED;\n\t\t\tif (item.unmount && item._dom) {\n\t\t\t\titem.unmount();\n\t\t\t} else if (item._scheduler) {\n\t\t\t\titem.unschedule();\n\t\t\t};\n\t\t};\n\t};\n\treturn this;\n};\n","var Imba = require(\"../imba\");\n\nImba.Pointer = function Pointer(){\n\tthis._button = -1;\n\tthis._event = {x: 0,y: 0,type: 'uninitialized'};\n\treturn this;\n};\n\nImba.Pointer.prototype.button = function (){\n\treturn this._button;\n};\n\nImba.Pointer.prototype.touch = function (){\n\treturn this._touch;\n};\n\nImba.Pointer.prototype.update = function (e){\n\tthis._event = e;\n\tthis._dirty = true;\n\treturn this;\n};\n\n\nImba.Pointer.prototype.process = function (){\n\tvar e1 = this._event;\n\t\n\tif (this._dirty) {\n\t\tthis._prevEvent = e1;\n\t\tthis._dirty = false;\n\t\t\n\t\t\n\t\tif (e1.type == 'mousedown') {\n\t\t\tthis._button = e1.button;\n\t\t\t\n\t\t\tif ((this._touch && this._button != 0)) {\n\t\t\t\treturn;\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t\tif (this._touch) { this._touch.cancel() };\n\t\t\tthis._touch = new Imba.Touch(e1,this);\n\t\t\tthis._touch.mousedown(e1,e1);\n\t\t} else if (e1.type == 'mousemove') {\n\t\t\tif (this._touch) { this._touch.mousemove(e1,e1) };\n\t\t} else if (e1.type == 'mouseup') {\n\t\t\tthis._button = -1;\n\t\t\t\n\t\t\tif (this._touch && this._touch.button() == e1.button) {\n\t\t\t\tthis._touch.mouseup(e1,e1);\n\t\t\t\tthis._touch = null;\n\t\t\t};\n\t\t\t\n\t\t};\n\t} else if (this._touch) {\n\t\tthis._touch.idle();\n\t};\n\treturn this;\n};\n\nImba.Pointer.prototype.x = function (){\n\treturn this._event.x;\n};\nImba.Pointer.prototype.y = function (){\n\treturn this._event.y;\n};\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\nrequire(\"./pointer\");\n\nvar native$ = [\n\t'keydown','keyup','keypress',\n\t'textInput','input','change','submit',\n\t'focusin','focusout','focus','blur',\n\t'contextmenu','selectstart','dblclick','selectionchange',\n\t'mousewheel','wheel','scroll',\n\t'beforecopy','copy','beforepaste','paste','beforecut','cut',\n\t'dragstart','drag','dragend','dragenter','dragover','dragleave','dragexit','drop',\n\t'mouseup','mousedown','mouseenter','mouseleave','mouseout','mouseover','mousemove',\n\t'transitionstart','transitionend','transitioncancel',\n\t'animationstart','animationiteration','animationend'\n];\n\n\n\nImba.EventManager = function EventManager(node,pars){\n\tvar self = this;\n\tif(!pars||pars.constructor !== Object) pars = {};\n\tvar events = pars.events !== undefined ? pars.events : [];\n\tself._shimFocusEvents = true && window.netscape && node.onfocusin === undefined;\n\tself.setRoot(node);\n\tself.setListeners([]);\n\tself.setDelegators({});\n\tself.setDelegator(function(e) {\n\t\tself.delegate(e);\n\t\treturn true;\n\t});\n\t\n\tfor (let i = 0, items = iter$(events), len = items.length; i < len; i++) {\n\t\tself.register(items[i]);\n\t};\n\t\n\treturn self;\n};\n\nImba.EventManager.prototype.root = function(v){ return this._root; }\nImba.EventManager.prototype.setRoot = function(v){ this._root = v; return this; };\nImba.EventManager.prototype.count = function(v){ return this._count; }\nImba.EventManager.prototype.setCount = function(v){ this._count = v; return this; };\nImba.EventManager.prototype.__enabled = {'default': false,watch: 'enabledDidSet',name: 'enabled'};\nImba.EventManager.prototype.enabled = function(v){ return this._enabled; }\nImba.EventManager.prototype.setEnabled = function(v){\n\tvar a = this.enabled();\n\tif(v != a) { this._enabled = v; }\n\tif(v != a) { this.enabledDidSet && this.enabledDidSet(v,a,this.__enabled) }\n\treturn this;\n}\nImba.EventManager.prototype._enabled = false;\nImba.EventManager.prototype.listeners = function(v){ return this._listeners; }\nImba.EventManager.prototype.setListeners = function(v){ this._listeners = v; return this; };\nImba.EventManager.prototype.delegators = function(v){ return this._delegators; }\nImba.EventManager.prototype.setDelegators = function(v){ this._delegators = v; return this; };\nImba.EventManager.prototype.delegator = function(v){ return this._delegator; }\nImba.EventManager.prototype.setDelegator = function(v){ this._delegator = v; return this; };\n\nvar initialBind = [];\n\nImba.EventManager.prototype.enabledDidSet = function (bool){\n\tbool ? this.onenable() : this.ondisable();\n\treturn this;\n};\n\nImba.EventManager.bind = function (name){\n\tif (Imba.Events) {\n\t\treturn Imba.Events.autoregister(name);\n\t} else if (initialBind.indexOf(name) == -1 && native$.indexOf(name) >= 0) {\n\t\treturn initialBind.push(name);\n\t};\n};\n\nImba.EventManager.activate = function (){\n\tvar Imba_;\n\tif (Imba.Events) { return Imba.Events };\n\tImba.Events = new Imba.EventManager(Imba.document(),{events: []});\n\tif (!true) {};\n\t\n\tImba.POINTER || (Imba.POINTER = new Imba.Pointer());\n\t\n\tvar hasTouchEvents = window && window.ontouchstart !== undefined;\n\t\n\tif (hasTouchEvents) {\n\t\tImba.Events.listen('touchstart',function(e) {\n\t\t\treturn Imba.Touch.ontouchstart(e);\n\t\t});\n\t\t\n\t\tImba.Events.listen('touchmove',function(e) {\n\t\t\treturn Imba.Touch.ontouchmove(e);\n\t\t});\n\t\t\n\t\tImba.Events.listen('touchend',function(e) {\n\t\t\treturn Imba.Touch.ontouchend(e);\n\t\t});\n\t\t\n\t\tImba.Events.listen('touchcancel',function(e) {\n\t\t\treturn Imba.Touch.ontouchcancel(e);\n\t\t});\n\t};\n\t\n\tImba.Events.register('click',function(e) {\n\t\t// Only for main mousebutton, no?\n\t\tif ((e.timeStamp - Imba.Touch.LastTimestamp) > Imba.Touch.TapTimeout) {\n\t\t\te._imbaSimulatedTap = true;\n\t\t\tvar tap = new Imba.Event(e);\n\t\t\ttap.setType('tap');\n\t\t\ttap.process();\n\t\t\tif (tap._responder && tap.defaultPrevented) {\n\t\t\t\treturn e.preventDefault();\n\t\t\t};\n\t\t};\n\t\t\n\t\treturn Imba.Events.delegate(e);\n\t});\n\t\n\tImba.Events.listen('mousedown',function(e) {\n\t\tif ((e.timeStamp - Imba.Touch.LastTimestamp) > Imba.Touch.TapTimeout) {\n\t\t\tif (Imba.POINTER) { return Imba.POINTER.update(e).process() };\n\t\t};\n\t});\n\t\n\tImba.Events.listen('mouseup',function(e) {\n\t\tif ((e.timeStamp - Imba.Touch.LastTimestamp) > Imba.Touch.TapTimeout) {\n\t\t\tif (Imba.POINTER) { return Imba.POINTER.update(e).process() };\n\t\t};\n\t});\n\t\n\tImba.Events.register(['mousedown','mouseup']);\n\tImba.Events.register(initialBind);\n\tImba.Events.setEnabled(true);\n\treturn Imba.Events;\n};\n\n\n\n\nImba.EventManager.prototype.register = function (name,handler){\n\tif(handler === undefined) handler = true;\n\tif (name instanceof Array) {\n\t\tfor (let i = 0, items = iter$(name), len = items.length; i < len; i++) {\n\t\t\tthis.register(items[i],handler);\n\t\t};\n\t\treturn this;\n\t};\n\t\n\tif (this.delegators()[name]) { return this };\n\t\n\t\n\tvar fn = this.delegators()[name] = (handler instanceof Function) ? handler : this.delegator();\n\tif (this.enabled()) { return this.root().addEventListener(name,fn,true) };\n};\n\nImba.EventManager.prototype.autoregister = function (name){\n\tif (native$.indexOf(name) == -1) { return this };\n\treturn this.register(name);\n};\n\nImba.EventManager.prototype.listen = function (name,handler,capture){\n\tif(capture === undefined) capture = true;\n\tthis.listeners().push([name,handler,capture]);\n\tif (this.enabled()) { this.root().addEventListener(name,handler,capture) };\n\treturn this;\n};\n\nImba.EventManager.prototype.delegate = function (e){\n\tvar event = Imba.Event.wrap(e);\n\tevent.process();\n\tif (this._shimFocusEvents) {\n\t\tif (e.type == 'focus') {\n\t\t\tImba.Event.wrap(e).setType('focusin').process();\n\t\t} else if (e.type == 'blur') {\n\t\t\tImba.Event.wrap(e).setType('focusout').process();\n\t\t};\n\t};\n\treturn this;\n};\n\n\n\nImba.EventManager.prototype.create = function (type,target,pars){\n\tif(!pars||pars.constructor !== Object) pars = {};\n\tvar data = pars.data !== undefined ? pars.data : null;\n\tvar source = pars.source !== undefined ? pars.source : null;\n\tvar event = Imba.Event.wrap({type: type,target: target});\n\tif (data) { (event.setData(data),data) };\n\tif (source) { (event.setSource(source),source) };\n\treturn event;\n};\n\n\n\nImba.EventManager.prototype.trigger = function (){\n\treturn this.create.apply(this,arguments).process();\n};\n\nImba.EventManager.prototype.onenable = function (){\n\tfor (let o = this.delegators(), handler, i = 0, keys = Object.keys(o), l = keys.length, name; i < l; i++){\n\t\tname = keys[i];handler = o[name];this.root().addEventListener(name,handler,true);\n\t};\n\t\n\tfor (let i = 0, items = iter$(this.listeners()), len = items.length, item; i < len; i++) {\n\t\titem = items[i];\n\t\tthis.root().addEventListener(item[0],item[1],item[2]);\n\t};\n\t\n\tif (true) {\n\t\twindow.addEventListener('hashchange',Imba.commit);\n\t\twindow.addEventListener('popstate',Imba.commit);\n\t};\n\treturn this;\n};\n\nImba.EventManager.prototype.ondisable = function (){\n\tfor (let o = this.delegators(), handler, i = 0, keys = Object.keys(o), l = keys.length, name; i < l; i++){\n\t\tname = keys[i];handler = o[name];this.root().removeEventListener(name,handler,true);\n\t};\n\t\n\tfor (let i = 0, items = iter$(this.listeners()), len = items.length, item; i < len; i++) {\n\t\titem = items[i];\n\t\tthis.root().removeEventListener(item[0],item[1],item[2]);\n\t};\n\t\n\tif (true) {\n\t\twindow.removeEventListener('hashchange',Imba.commit);\n\t\twindow.removeEventListener('popstate',Imba.commit);\n\t};\n\t\n\treturn this;\n};\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\n\nImba.CSSKeyMap = {};\n\nImba.TAG_BUILT = 1;\nImba.TAG_SETUP = 2;\nImba.TAG_MOUNTING = 4;\nImba.TAG_MOUNTED = 8;\nImba.TAG_SCHEDULED = 16;\nImba.TAG_AWAKENED = 32;\nImba.TAG_MOUNTABLE = 64;\nImba.TAG_AUTOCLASS_GLOBALS = true;\nImba.TAG_AUTOCLASS_LOCALS = true;\nImba.TAG_AUTOCLASS_SVG = true;\n\n\n\nImba.document = function (){\n\treturn window.document;\n};\n\n\n\nImba.root = function (){\n\treturn Imba.getTagForDom(Imba.document().body);\n};\n\nImba.static = function (items,typ,nr){\n\titems._type = typ;\n\titems.static = nr;\n\treturn items;\n};\n\n\n\nImba.mount = function (node,into){\n\tinto || (into = Imba.document().body);\n\tinto.appendChild(node.dom());\n\tImba.TagManager.insert(node,into);\n\tnode.scheduler().configure({events: true}).activate(false);\n\tImba.TagManager.refresh();\n\treturn node;\n};\n\n\nImba.createTextNode = function (node){\n\tif (node && node.nodeType == 3) {\n\t\treturn node;\n\t};\n\treturn Imba.document().createTextNode(node);\n};\n\n\n\n\n\nImba.Tag = function Tag(dom,ctx){\n\tthis.setDom(dom);\n\tthis.$ = TagCache.build(this);\n\tthis.$up = this._owner_ = ctx;\n\tthis._tree_ = null;\n\tthis.FLAGS = 0;\n\tthis.build();\n\tthis;\n};\n\n\nImba.Tag.buildNode = function (){\n\tvar dom = Imba.document().createElement(this._nodeType || 'div');\n\tif (this._classes) {\n\t\tvar cls = this._classes.join(\" \");\n\t\tif (cls) { dom.className = cls };\n\t};\n\treturn dom;\n};\n\nImba.Tag.createNode = function (){\n\tvar proto = (this._protoDom || (this._protoDom = this.buildNode()));\n\treturn proto.cloneNode(false);\n};\n\nImba.Tag.build = function (ctx){\n\treturn new this(this.createNode(),ctx);\n};\n\nImba.Tag.dom = function (){\n\treturn this._protoDom || (this._protoDom = this.buildNode());\n};\n\nImba.Tag.end = function (){\n\treturn this.commit(0);\n};\n\n\n\nImba.Tag.inherit = function (child){\n\tchild._protoDom = null;\n\t\n\tif (this._nodeType) {\n\t\tchild._nodeType = this._nodeType;\n\t\tchild._classes = this._classes.slice();\n\t\t\n\t\tif (child._flagName) {\n\t\t\treturn child._classes.push(child._flagName);\n\t\t};\n\t} else {\n\t\tchild._nodeType = child._name;\n\t\tchild._flagName = null;\n\t\treturn child._classes = [];\n\t};\n};\n\n\n\nImba.Tag.prototype.optimizeTagStructure = function (){\n\tif (!true) {};\n\tvar ctor = this.constructor;\n\tlet keys = Object.keys(this);\n\t\n\tif (keys.indexOf('mount') >= 0) {\n\t\tif (ctor._classes && ctor._classes.indexOf('__mount') == -1) {\n\t\t\tctor._classes.push('__mount');\n\t\t};\n\t\t\n\t\tif (ctor._protoDom) {\n\t\t\tctor._protoDom.classList.add('__mount');\n\t\t};\n\t};\n\t\n\tfor (let i = 0, items = iter$(keys), len = items.length, key; i < len; i++) {\n\t\tkey = items[i];\n\t\tif ((/^on/).test(key)) { Imba.EventManager.bind(key.slice(2)) };\n\t};\n\treturn this;\n};\n\n\nImba.attr(Imba.Tag,'accesskey');\nImba.attr(Imba.Tag,'autocapitalize');\nImba.attr(Imba.Tag,'contenteditable');\nImba.attr(Imba.Tag,'contextmenu');\nImba.attr(Imba.Tag,'dir');\nImba.attr(Imba.Tag,'draggable');\nImba.attr(Imba.Tag,'dropzone');\nImba.attr(Imba.Tag,'hidden');\nImba.attr(Imba.Tag,'inputmode');\nImba.attr(Imba.Tag,'itemid');\nImba.attr(Imba.Tag,'itemprop');\nImba.attr(Imba.Tag,'itemref');\nImba.attr(Imba.Tag,'itemscope');\nImba.attr(Imba.Tag,'itemtype');\nImba.attr(Imba.Tag,'lang');\nImba.attr(Imba.Tag,'name');\nImba.attr(Imba.Tag,'role');\nImba.attr(Imba.Tag,'slot');\nImba.attr(Imba.Tag,'spellcheck');\nImba.attr(Imba.Tag,'tabindex');\nImba.Tag.prototype.title = function(v){ return this.getAttribute('title'); }\nImba.Tag.prototype.setTitle = function(v){ this.setAttribute('title',v); return this; };\nImba.attr(Imba.Tag,'translate');\n\nImba.Tag.prototype.dom = function (){\n\treturn this._dom;\n};\n\nImba.Tag.prototype.setDom = function (dom){\n\tdom._tag = this;\n\tthis._dom = this._slot_ = dom;\n\treturn this;\n};\n\nImba.Tag.prototype.ref = function (){\n\treturn this._ref;\n};\n\nImba.Tag.prototype.root = function (){\n\treturn this._owner_ ? this._owner_.root() : this;\n};\n\n\n\nImba.Tag.prototype.ref_ = function (ref){\n\tthis.flag(this._ref = ref);\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.setData = function (data){\n\tthis._data = data;\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.data = function (){\n\treturn this._data;\n};\n\n\nImba.Tag.prototype.bindData = function (target,path,args){\n\treturn this.setData(args ? target[path].apply(target,args) : target[path]);\n};\n\n\n\nImba.Tag.prototype.setHtml = function (html){\n\tif (this.html() != html) {\n\t\tthis._dom.innerHTML = html;\n\t};\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.html = function (){\n\treturn this._dom.innerHTML;\n};\n\nImba.Tag.prototype.on$ = function (slot,handler,context){\n\tlet handlers = this._on_ || (this._on_ = []);\n\tlet prev = handlers[slot];\n\t\n\tif (slot < 0) {\n\t\tif (prev == undefined) {\n\t\t\tslot = handlers[slot] = handlers.length;\n\t\t} else {\n\t\t\tslot = prev;\n\t\t};\n\t\tprev = handlers[slot];\n\t};\n\t\n\thandlers[slot] = handler;\n\tif (prev) {\n\t\thandler.state = prev.state;\n\t} else {\n\t\thandler.state = {context: context};\n\t\tif (true) { Imba.EventManager.bind(handler[0]) };\n\t};\n\treturn this;\n};\n\n\nImba.Tag.prototype.setId = function (id){\n\tif (id != null) {\n\t\tthis.dom().id = id;\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.id = function (){\n\treturn this.dom().id;\n};\n\n\n\nImba.Tag.prototype.setAttribute = function (name,value){\n\tvar old = this.dom().getAttribute(name);\n\t\n\tif (old == value) {\n\t\tvalue;\n\t} else if (value != null && value !== false) {\n\t\tthis.dom().setAttribute(name,value);\n\t} else {\n\t\tthis.dom().removeAttribute(name);\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.setNestedAttr = function (ns,name,value,modifiers){\n\tif (this[ns + 'SetAttribute']) {\n\t\tthis[ns + 'SetAttribute'](name,value,modifiers);\n\t} else {\n\t\tthis.setAttributeNS(ns,name,value);\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.setAttributeNS = function (ns,name,value){\n\tvar old = this.getAttributeNS(ns,name);\n\t\n\tif (old != value) {\n\t\tif (value != null && value !== false) {\n\t\t\tthis.dom().setAttributeNS(ns,name,value);\n\t\t} else {\n\t\t\tthis.dom().removeAttributeNS(ns,name);\n\t\t};\n\t};\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.removeAttribute = function (name){\n\treturn this.dom().removeAttribute(name);\n};\n\n\n\nImba.Tag.prototype.getAttribute = function (name){\n\treturn this.dom().getAttribute(name);\n};\n\n\nImba.Tag.prototype.getAttributeNS = function (ns,name){\n\treturn this.dom().getAttributeNS(ns,name);\n};\n\n\nImba.Tag.prototype.set = function (key,value,mods){\n\tlet setter = Imba.toSetter(key);\n\tif (this[setter] instanceof Function) {\n\t\tthis[setter](value,mods);\n\t} else {\n\t\tthis._dom.setAttribute(key,value);\n\t};\n\treturn this;\n};\n\n\nImba.Tag.prototype.get = function (key){\n\treturn this._dom.getAttribute(key);\n};\n\n\n\nImba.Tag.prototype.setContent = function (content,type){\n\tthis.setChildren(content,type);\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.setChildren = function (nodes,type){\n\t// overridden on client by reconciler\n\tthis._tree_ = nodes;\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.setTemplate = function (template){\n\tif (!this._template) {\n\t\tif (this.render == Imba.Tag.prototype.render) {\n\t\t\tthis.render = this.renderTemplate; \n\t\t};\n\t};\n\t\n\tthis.template = this._template = template;\n\treturn this;\n};\n\nImba.Tag.prototype.template = function (){\n\treturn null;\n};\n\n\n\nImba.Tag.prototype.renderTemplate = function (){\n\tvar body = this.template();\n\tif (body != this) { this.setChildren(body) };\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.removeChild = function (child){\n\tvar par = this.dom();\n\tvar el = child._slot_ || child;\n\tif (el && el.parentNode == par) {\n\t\tImba.TagManager.remove(el._tag || el,this);\n\t\tpar.removeChild(el);\n\t};\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.removeAllChildren = function (){\n\tif (this._dom.firstChild) {\n\t\tvar el;\n\t\twhile (el = this._dom.firstChild){\n\t\t\ttrue && Imba.TagManager.remove(el._tag || el,this);\n\t\t\tthis._dom.removeChild(el);\n\t\t};\n\t};\n\tthis._tree_ = this._text_ = null;\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.appendChild = function (node){\n\tif ((typeof node=='string'||node instanceof String)) {\n\t\tthis.dom().appendChild(Imba.document().createTextNode(node));\n\t} else if (node) {\n\t\tthis.dom().appendChild(node._slot_ || node);\n\t\tImba.TagManager.insert(node._tag || node,this);\n\t\t\n\t};\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.insertBefore = function (node,rel){\n\tif ((typeof node=='string'||node instanceof String)) {\n\t\tnode = Imba.document().createTextNode(node);\n\t};\n\t\n\tif (node && rel) {\n\t\tthis.dom().insertBefore((node._slot_ || node),(rel._slot_ || rel));\n\t\tImba.TagManager.insert(node._tag || node,this);\n\t\t\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.detachFromParent = function (){\n\tif (this._slot_ == this._dom) {\n\t\tthis._slot_ = (this._dom._placeholder_ || (this._dom._placeholder_ = Imba.document().createComment(\"node\")));\n\t\tthis._slot_._tag || (this._slot_._tag = this);\n\t\t\n\t\tif (this._dom.parentNode) {\n\t\t\tImba.TagManager.remove(this,this._dom.parentNode);\n\t\t\tthis._dom.parentNode.replaceChild(this._slot_,this._dom);\n\t\t};\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.attachToParent = function (){\n\tif (this._slot_ != this._dom) {\n\t\tlet prev = this._slot_;\n\t\tthis._slot_ = this._dom;\n\t\tif (prev && prev.parentNode) {\n\t\t\tImba.TagManager.insert(this);\n\t\t\tprev.parentNode.replaceChild(this._dom,prev);\n\t\t};\n\t};\n\t\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.orphanize = function (){\n\tvar par;\n\tif (par = this.parent()) { par.removeChild(this) };\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.text = function (v){\n\treturn this._dom.textContent;\n};\n\n\n\nImba.Tag.prototype.setText = function (txt){\n\tthis._tree_ = txt;\n\tthis._dom.textContent = (txt == null || this.text() === false) ? '' : txt;\n\tthis;\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.dataset = function (key,val){\n\tif (key instanceof Object) {\n\t\tfor (let v, i = 0, keys = Object.keys(key), l = keys.length, k; i < l; i++){\n\t\t\tk = keys[i];v = key[k];this.dataset(k,v);\n\t\t};\n\t\treturn this;\n\t};\n\t\n\tif (arguments.length == 2) {\n\t\tthis.setAttribute((\"data-\" + key),val);\n\t\treturn this;\n\t};\n\t\n\tif (key) {\n\t\treturn this.getAttribute((\"data-\" + key));\n\t};\n\t\n\tvar dataset = this.dom().dataset;\n\t\n\tif (!(dataset)) {\n\t\tdataset = {};\n\t\tfor (let i = 0, items = iter$(this.dom().attributes), len = items.length, atr; i < len; i++) {\n\t\t\tatr = items[i];\n\t\t\tif (atr.name.substr(0,5) == 'data-') {\n\t\t\t\tdataset[Imba.toCamelCase(atr.name.slice(5))] = atr.value;\n\t\t\t};\n\t\t};\n\t};\n\t\n\treturn dataset;\n};\n\n\n\nImba.Tag.prototype.render = function (){\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.build = function (){\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.setup = function (){\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.commit = function (){\n\tif (this.beforeRender() !== false) this.render();\n\treturn this;\n};\n\nImba.Tag.prototype.beforeRender = function (){\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.tick = function (){\n\tif (this.beforeRender() !== false) this.render();\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.end = function (){\n\tthis.setup();\n\tthis.commit(0);\n\tthis.end = Imba.Tag.end;\n\treturn this;\n};\n\n\nImba.Tag.prototype.$open = function (context){\n\tif (context != this._context_) {\n\t\tthis._tree_ = null;\n\t\tthis._context_ = context;\n\t};\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.synced = function (){\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.awaken = function (){\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.flags = function (){\n\treturn this._dom.classList;\n};\n\n\n\nImba.Tag.prototype.flag = function (name,toggler){\n\t// it is most natural to treat a second undefined argument as a no-switch\n\t// so we need to check the arguments-length\n\tif (arguments.length == 2) {\n\t\tif (this._dom.classList.contains(name) != !(!(toggler))) {\n\t\t\tthis._dom.classList.toggle(name);\n\t\t};\n\t} else {\n\t\t// firefox will trigger a change if adding existing class\n\t\tif (!this._dom.classList.contains(name)) { this._dom.classList.add(name) };\n\t};\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.unflag = function (name){\n\tthis._dom.classList.remove(name);\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.toggleFlag = function (name){\n\tthis._dom.classList.toggle(name);\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.hasFlag = function (name){\n\treturn this._dom.classList.contains(name);\n};\n\n\nImba.Tag.prototype.flagIf = function (flag,bool){\n\tvar f = this._flags_ || (this._flags_ = {});\n\tlet prev = f[flag];\n\t\n\tif (bool && !(prev)) {\n\t\tthis._dom.classList.add(flag);\n\t\tf[flag] = true;\n\t} else if (prev && !(bool)) {\n\t\tthis._dom.classList.remove(flag);\n\t\tf[flag] = false;\n\t};\n\t\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.setFlag = function (name,value){\n\tlet flags = this._namedFlags_ || (this._namedFlags_ = {});\n\tlet prev = flags[name];\n\tif (prev != value) {\n\t\tif (prev) { this.unflag(prev) };\n\t\tif (value) { this.flag(value) };\n\t\tflags[name] = value;\n\t};\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.scheduler = function (){\n\treturn (this._scheduler == null) ? (this._scheduler = new Imba.Scheduler(this)) : this._scheduler;\n};\n\n\n\nImba.Tag.prototype.schedule = function (options){\n\tif(options === undefined) options = {events: true};\n\tthis.scheduler().configure(options).activate();\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.unschedule = function (){\n\tif (this._scheduler) { this.scheduler().deactivate() };\n\treturn this;\n};\n\n\n\n\nImba.Tag.prototype.parent = function (){\n\treturn Imba.getTagForDom(this.dom().parentNode);\n};\n\n\n\nImba.Tag.prototype.children = function (sel){\n\tlet res = [];\n\tfor (let i = 0, items = iter$(this._dom.children), len = items.length, item; i < len; i++) {\n\t\titem = items[i];\n\t\tres.push(item._tag || Imba.getTagForDom(item));\n\t};\n\treturn res;\n};\n\nImba.Tag.prototype.querySelector = function (q){\n\treturn Imba.getTagForDom(this._dom.querySelector(q));\n};\n\nImba.Tag.prototype.querySelectorAll = function (q){\n\tvar items = [];\n\tfor (let i = 0, ary = iter$(this._dom.querySelectorAll(q)), len = ary.length; i < len; i++) {\n\t\titems.push(Imba.getTagForDom(ary[i]));\n\t};\n\treturn items;\n};\n\n\n\nImba.Tag.prototype.matches = function (sel){\n\tvar fn;\n\tif (sel instanceof Function) {\n\t\treturn sel(this);\n\t};\n\t\n\tif (sel.query instanceof Function) { sel = sel.query() };\n\tif (fn = (this._dom.matches || this._dom.matchesSelector || this._dom.webkitMatchesSelector || this._dom.msMatchesSelector || this._dom.mozMatchesSelector)) {\n\t\treturn fn.call(this._dom,sel);\n\t};\n};\n\n\n\nImba.Tag.prototype.closest = function (sel){\n\treturn Imba.getTagForDom(this._dom.closest(sel));\n};\n\n\n\nImba.Tag.prototype.contains = function (node){\n\treturn this.dom().contains(node._dom || node);\n};\n\n\n\n\nImba.Tag.prototype.log = function (){\n\tvar $0 = arguments, i = $0.length;\n\tvar args = new Array(i>0 ? i : 0);\n\twhile(i>0) args[i-1] = $0[--i];\n\targs.unshift(console);\n\tFunction.prototype.call.apply(console.log,args);\n\treturn this;\n};\n\nImba.Tag.prototype.css = function (key,val,mod){\n\tif (key instanceof Object) {\n\t\tfor (let v, i = 0, keys = Object.keys(key), l = keys.length, k; i < l; i++){\n\t\t\tk = keys[i];v = key[k];this.css(k,v);\n\t\t};\n\t\treturn this;\n\t};\n\t\n\tvar name = Imba.CSSKeyMap[key] || key;\n\t\n\tif (val == null) {\n\t\tthis.dom().style.removeProperty(name);\n\t} else if (val == undefined && arguments.length == 1) {\n\t\treturn this.dom().style[name];\n\t} else if (name.match(/^--/)) {\n\t\tthis.dom().style.setProperty(name,val);\n\t} else {\n\t\tif ((typeof val=='number'||val instanceof Number) && (name.match(/width|height|left|right|top|bottom/) || (mod && mod.px))) {\n\t\t\tthis.dom().style[name] = val + \"px\";\n\t\t} else {\n\t\t\tthis.dom().style[name] = val;\n\t\t};\n\t};\n\treturn this;\n};\n\nImba.Tag.prototype.setStyle = function (style){\n\treturn this.setAttribute('style',style);\n};\n\nImba.Tag.prototype.style = function (){\n\treturn this.getAttribute('style');\n};\n\n\n\nImba.Tag.prototype.trigger = function (name,data){\n\tif(data === undefined) data = {};\n\treturn true && Imba.Events.trigger(name,this,{data: data});\n};\n\n\n\nImba.Tag.prototype.focus = function (){\n\tthis.dom().focus();\n\treturn this;\n};\n\n\n\nImba.Tag.prototype.blur = function (){\n\tthis.dom().blur();\n\treturn this;\n};\n\nImba.Tag.prototype.toString = function (){\n\treturn this.dom().outerHTML;\n};\n\n\nImba.Tag.prototype.initialize = Imba.Tag;\n\nImba.SVGTag = function SVGTag(){ return Imba.Tag.apply(this,arguments) };\n\nImba.subclass(Imba.SVGTag,Imba.Tag);\nImba.SVGTag.namespaceURI = function (){\n\treturn \"http://www.w3.org/2000/svg\";\n};\n\nImba.SVGTag.buildNode = function (){\n\tvar dom = Imba.document().createElementNS(this.namespaceURI(),this._nodeType);\n\tif (this._classes) {\n\t\tvar cls = this._classes.join(\" \");\n\t\tif (cls) { dom.className.baseVal = cls };\n\t};\n\treturn dom;\n};\n\nImba.SVGTag.inherit = function (child){\n\tchild._protoDom = null;\n\t\n\tif (this == Imba.SVGTag) {\n\t\tchild._nodeType = child._name;\n\t\treturn child._classes = [];\n\t} else {\n\t\tchild._nodeType = this._nodeType;\n\t\tvar classes = (this._classes || []).slice(0);\n\t\tif (Imba.TAG_AUTOCLASS_SVG) {\n\t\t\tclasses.push(\"_\" + child._name.replace(/_/g,'-'));\n\t\t};\n\t\treturn child._classes = classes;\n\t};\n};\n\n\nImba.HTML_TAGS = \"a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr\".split(\" \");\nImba.HTML_TAGS_UNSAFE = \"article aside header section\".split(\" \");\n\nImba.HTML_ATTRS = {\n\ta: \"href target hreflang media download rel type ping referrerpolicy\",\n\taudio: \"autoplay controls crossorigin loop muted preload src\",\n\tarea: \"alt coords download href hreflang ping referrerpolicy rel shape target\",\n\tbase: \"href target\",\n\tvideo: \"autoplay buffered controls crossorigin height loop muted preload poster src width playsinline\",\n\tfieldset: \"disabled form name\",\n\tform: \"method action enctype autocomplete target\",\n\tbutton: \"autofocus type form formaction formenctype formmethod formnovalidate formtarget value name\",\n\tembed: \"height src type width\",\n\tinput: \"accept disabled form list max maxlength min minlength pattern required size step type\",\n\tlabel: \"accesskey for form\",\n\timg: \"alt src srcset crossorigin decoding height importance intrinsicsize ismap referrerpolicy sizes width usemap\",\n\tlink: \"rel type href media\",\n\tiframe: \"allow allowfullscreen allowpaymentrequest height importance name referrerpolicy sandbox src srcdoc width frameborder align longdesc scrolling\",\n\tmeta: \"property content charset desc http-equiv color-scheme name scheme\",\n\tmap: \"name\",\n\toptgroup: \"label\",\n\toption: \"label\",\n\toutput: \"for form\",\n\tobject: \"type data width height\",\n\tparam: \"name type value valuetype\",\n\tprogress: \"max\",\n\tscript: \"src type async defer crossorigin integrity nonce language nomodule\",\n\tselect: \"size form multiple\",\n\tsource: \"sizes src srcset type media\",\n\ttextarea: \"rows cols minlength maxlength form wrap\",\n\ttrack: \"default kind label src srclang\",\n\ttd: \"colspan rowspan headers\",\n\tth: \"colspan rowspan\"\n};\n\n\nImba.HTML_PROPS = {\n\tinput: \"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck\",\n\ttextarea: \"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck\",\n\tform: \"novalidate\",\n\tfieldset: \"disabled\",\n\tbutton: \"disabled\",\n\tselect: \"autofocus disabled required readOnly multiple\",\n\toption: \"disabled selected value\",\n\toptgroup: \"disabled\",\n\tprogress: \"value\",\n\tfieldset: \"disabled\",\n\tcanvas: \"width height\"\n};\n\nvar extender = function(obj,sup) {\n\tfor (let v, i = 0, keys = Object.keys(sup), l = keys.length, k; i < l; i++){\n\t\tk = keys[i];v = sup[k];(obj[k] == null) ? (obj[k] = v) : obj[k];\n\t};\n\t\n\tobj.prototype = Object.create(sup.prototype);\n\tobj.__super__ = obj.prototype.__super__ = sup.prototype;\n\tobj.prototype.constructor = obj;\n\tif (sup.inherit) { sup.inherit(obj) };\n\treturn obj;\n};\n\n\n\nfunction Tag(){\n\treturn function(dom,ctx) {\n\t\tthis.initialize(dom,ctx);\n\t\treturn this;\n\t};\n};\n\nImba.Tags = function Tags(){\n\tthis;\n};\n\nImba.Tags.prototype.__clone = function (ns){\n\tvar clone = Object.create(this);\n\tclone._parent = this;\n\treturn clone;\n};\n\nImba.Tags.prototype.ns = function (name){\n\treturn this['_' + name.toUpperCase()] || this.defineNamespace(name);\n};\n\nImba.Tags.prototype.defineNamespace = function (name){\n\tvar clone = Object.create(this);\n\tclone._parent = this;\n\tclone._ns = name;\n\tthis['_' + name.toUpperCase()] = clone;\n\treturn clone;\n};\n\nImba.Tags.prototype.baseType = function (name,ns){\n\treturn (Imba.indexOf(name,Imba.HTML_TAGS) >= 0) ? 'element' : 'div';\n};\n\nImba.Tags.prototype.defineTag = function (fullName,supr,body){\n\tif(body==undefined && typeof supr == 'function') body = supr,supr = '';\n\tif(supr==undefined) supr = '';\n\tif (body && body._nodeType) {\n\t\tsupr = body;\n\t\tbody = null;\n\t};\n\t\n\tif (this[fullName]) {\n\t\tconsole.log(\"tag already exists?\",fullName);\n\t};\n\t\n\t\n\tvar ns;\n\tvar name = fullName;\n\tlet nsidx = name.indexOf(':');\n\tif (nsidx >= 0) {\n\t\tns = fullName.substr(0,nsidx);\n\t\tname = fullName.substr(nsidx + 1);\n\t\tif (ns == 'svg' && !(supr)) {\n\t\t\tsupr = 'svg:element';\n\t\t};\n\t};\n\t\n\tsupr || (supr = this.baseType(fullName));\n\t\n\tlet supertype = ((typeof supr=='string'||supr instanceof String)) ? this.findTagType(supr) : supr;\n\tlet tagtype = Tag();\n\t\n\ttagtype._name = name;\n\ttagtype._flagName = null;\n\t\n\tif (name[0] == '#') {\n\t\tImba.SINGLETONS[name.slice(1)] = tagtype;\n\t\tthis[name] = tagtype;\n\t} else if (name[0] == name[0].toUpperCase()) {\n\t\tif (Imba.TAG_AUTOCLASS_LOCALS) {\n\t\t\ttagtype._flagName = name;\n\t\t};\n\t} else {\n\t\tif (Imba.TAG_AUTOCLASS_GLOBALS) {\n\t\t\ttagtype._flagName = \"_\" + fullName.replace(/[_\\:]/g,'-');\n\t\t};\n\t\tthis[fullName] = tagtype;\n\t};\n\t\n\textender(tagtype,supertype);\n\t\n\tif (body) {\n\t\tbody.call(tagtype,tagtype,tagtype.TAGS || this);\n\t\tif (tagtype.defined) { tagtype.defined() };\n\t\tthis.optimizeTag(tagtype);\n\t};\n\treturn tagtype;\n};\n\nImba.Tags.prototype.defineSingleton = function (name,supr,body){\n\treturn this.defineTag(name,supr,body);\n};\n\nImba.Tags.prototype.extendTag = function (name,supr,body){\n\tif(body==undefined && typeof supr == 'function') body = supr,supr = '';\n\tif(supr==undefined) supr = '';\n\tvar klass = (((typeof name=='string'||name instanceof String)) ? this.findTagType(name) : name);\n\t\n\tif (body) { body && body.call(klass,klass,klass.prototype) };\n\tif (klass.extended) { klass.extended() };\n\tthis.optimizeTag(klass);\n\treturn klass;\n};\n\nImba.Tags.prototype.optimizeTag = function (tagtype){\n\tvar prototype_;\n\treturn (prototype_ = tagtype.prototype) && prototype_.optimizeTagStructure  &&  prototype_.optimizeTagStructure();\n};\n\nImba.Tags.prototype.findTagType = function (type){\n\tvar attrs, props;\n\tlet klass = this[type];\n\tif (!(klass)) {\n\t\tif (type.substr(0,4) == 'svg:') {\n\t\t\tklass = this.defineTag(type,'svg:element');\n\t\t} else if (Imba.HTML_TAGS.indexOf(type) >= 0) {\n\t\t\tklass = this.defineTag(type,'element');\n\t\t\t\n\t\t\tif (attrs = Imba.HTML_ATTRS[type]) {\n\t\t\t\tfor (let i = 0, items = iter$(attrs.split(\" \")), len = items.length; i < len; i++) {\n\t\t\t\t\tImba.attr(klass,items[i]);\n\t\t\t\t};\n\t\t\t};\n\t\t\t\n\t\t\tif (props = Imba.HTML_PROPS[type]) {\n\t\t\t\tfor (let i = 0, items = iter$(props.split(\" \")), len = items.length; i < len; i++) {\n\t\t\t\t\tImba.attr(klass,items[i],{dom: true});\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n\treturn klass;\n};\n\nImba.createElement = function (name,ctx,ref,pref){\n\tvar type = name;\n\tvar parent;\n\tif (name instanceof Function) {\n\t\ttype = name;\n\t} else {\n\t\tif (null) {};\n\t\ttype = Imba.TAGS.findTagType(name);\n\t};\n\t\n\tif (ctx instanceof TagMap) {\n\t\tparent = ctx.par$;\n\t} else if (pref instanceof Imba.Tag) {\n\t\tparent = pref;\n\t} else {\n\t\tparent = (ctx && pref != undefined) ? ctx[pref] : ((ctx && ctx._tag || ctx));\n\t};\n\t\n\tvar node = type.build(parent);\n\t\n\tif (ctx instanceof TagMap) {\n\t\tctx.i$++;\n\t\tnode.$key = ref;\n\t};\n\t\n\tif (ctx && ref != undefined) {\n\t\tctx[ref] = node;\n\t};\n\t\n\treturn node;\n};\n\nImba.createTagCache = function (owner){\n\tvar item = [];\n\titem._tag = owner;\n\treturn item;\n};\n\nImba.createTagMap = function (ctx,ref,pref){\n\tvar par = ((pref != undefined) ? pref : ctx._tag);\n\tvar node = new TagMap(ctx,ref,par);\n\tctx[ref] = node;\n\treturn node;\n};\n\nImba.createTagList = function (ctx,ref,pref){\n\tvar node = [];\n\tnode._type = 4;\n\tnode._tag = ((pref != undefined) ? pref : ctx._tag);\n\tctx[ref] = node;\n\treturn node;\n};\n\nImba.createTagLoopResult = function (ctx,ref,pref){\n\tvar node = [];\n\tnode._type = 5;\n\tnode.cache = {i$: 0};\n\treturn node;\n};\n\n\nfunction TagCache(owner){\n\tthis._tag = owner;\n\tthis;\n};\nTagCache.build = function (owner){\n\tvar item = [];\n\titem._tag = owner;\n\treturn item;\n};\n\n\n\nfunction TagMap(cache,ref,par){\n\tthis.cache$ = cache;\n\tthis.key$ = ref;\n\tthis.par$ = par;\n\tthis.i$ = 0;\n};\n\nTagMap.prototype.$iter = function (){\n\tvar item = [];\n\titem._type = 5;\n\titem.cache = this;\n\treturn item;\n};\n\nTagMap.prototype.$prune = function (items){\n\tlet cache = this.cache$;\n\tlet key = this.key$;\n\tlet clone = new TagMap(cache,key,this.par$);\n\tfor (let i = 0, ary = iter$(items), len = ary.length, item; i < len; i++) {\n\t\titem = ary[i];\n\t\tclone[item.key$] = item;\n\t};\n\tclone.i$ = items.length;\n\treturn cache[key] = clone;\n};\n\nImba.TagMap = TagMap;\nImba.TagCache = TagCache;\nImba.SINGLETONS = {};\nImba.TAGS = new Imba.Tags();\nImba.TAGS.element = Imba.TAGS.htmlelement = Imba.Tag;\nImba.TAGS['svg:element'] = Imba.SVGTag;\n\nImba.attr(Imba.Tag,'is');\n\nImba.defineTag = function (name,supr,body){\n\tif(body==undefined && typeof supr == 'function') body = supr,supr = '';\n\tif(supr==undefined) supr = '';\n\treturn Imba.TAGS.defineTag(name,supr,body);\n};\n\nImba.defineSingletonTag = function (id,supr,body){\n\tif(body==undefined && typeof supr == 'function') body = supr,supr = 'div';\n\tif(supr==undefined) supr = 'div';\n\treturn Imba.TAGS.defineTag(this.name(),supr,body);\n};\n\nImba.extendTag = function (name,body){\n\treturn Imba.TAGS.extendTag(name,body);\n};\n\nImba.getTagSingleton = function (id){\n\tvar klass;\n\tvar dom,node;\n\t\n\tif (klass = Imba.SINGLETONS[id]) {\n\t\tif (klass && klass.Instance) { return klass.Instance };\n\t\t\n\t\t\n\t\tif (dom = Imba.document().getElementById(id)) {\n\t\t\t// we have a live instance - when finding it through a selector we should awake it, no?\n\t\t\t// console.log('creating the singleton from existing node in dom?',id,type)\n\t\t\tnode = klass.Instance = new klass(dom);\n\t\t\tnode.awaken(dom); \n\t\t\treturn node;\n\t\t};\n\t\t\n\t\tdom = klass.createNode();\n\t\tdom.id = id;\n\t\tnode = klass.Instance = new klass(dom);\n\t\tnode.end().awaken(dom);\n\t\treturn node;\n\t} else if (dom = Imba.document().getElementById(id)) {\n\t\treturn Imba.getTagForDom(dom);\n\t};\n};\n\nvar svgSupport = typeof SVGElement !== 'undefined';\n\n\nImba.getTagForDom = function (dom){\n\tif (!(dom)) { return null };\n\tif (dom._dom) { return dom };\n\tif (dom._tag) { return dom._tag };\n\tif (!dom.nodeName) { return null };\n\t\n\tvar name = dom.nodeName.toLowerCase();\n\tvar type = name;\n\tvar ns = Imba.TAGS;\n\t\n\tif (dom.id && Imba.SINGLETONS[dom.id]) {\n\t\treturn Imba.getTagSingleton(dom.id);\n\t};\n\t\n\tif (svgSupport && (dom instanceof SVGElement)) {\n\t\ttype = ns.findTagType(\"svg:\" + name);\n\t} else if (Imba.HTML_TAGS.indexOf(name) >= 0) {\n\t\ttype = ns.findTagType(name);\n\t} else {\n\t\ttype = Imba.Tag;\n\t};\n\t\n\treturn new type(dom,null).awaken(dom);\n};\n\n\nif (true && false && document) {\n\tvar styles = window.getComputedStyle(document.documentElement,'');\n\t\n\tfor (let i = 0, items = iter$(styles), len = items.length, prefixed; i < len; i++) {\n\t\tprefixed = items[i];\n\t\tvar unprefixed = prefixed.replace(/^-(webkit|ms|moz|o|blink)-/,'');\n\t\tvar camelCase = unprefixed.replace(/-(\\w)/g,function(m,a) { return a.toUpperCase(); });\n\t\t\n\t\t\n\t\tif (prefixed != unprefixed) {\n\t\t\tif (styles.hasOwnProperty(unprefixed)) { continue; };\n\t\t};\n\t\t\n\t\t\n\t\tImba.CSSKeyMap[unprefixed] = Imba.CSSKeyMap[camelCase] = prefixed;\n\t};\n\t\n\t\n\tif (!document.documentElement.classList) {\n\t\tImba.extendTag('element', function(tag){\n\t\t\t\n\t\t\ttag.prototype.hasFlag = function (ref){\n\t\t\t\treturn new RegExp('(^|\\\\s)' + ref + '(\\\\s|$)').test(this._dom.className);\n\t\t\t};\n\t\t\t\n\t\t\ttag.prototype.addFlag = function (ref){\n\t\t\t\tif (this.hasFlag(ref)) { return this };\n\t\t\t\tthis._dom.className += (this._dom.className ? ' ' : '') + ref;\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\t\n\t\t\ttag.prototype.unflag = function (ref){\n\t\t\t\tif (!this.hasFlag(ref)) { return this };\n\t\t\t\tvar regex = new RegExp('(^|\\\\s)*' + ref + '(\\\\s|$)*','g');\n\t\t\t\tthis._dom.className = this._dom.className.replace(regex,'');\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\t\n\t\t\ttag.prototype.toggleFlag = function (ref){\n\t\t\t\treturn this.hasFlag(ref) ? this.unflag(ref) : this.flag(ref);\n\t\t\t};\n\t\t\t\n\t\t\ttag.prototype.flag = function (ref,bool){\n\t\t\t\tif (arguments.length == 2 && !(!(bool)) === false) {\n\t\t\t\t\treturn this.unflag(ref);\n\t\t\t\t};\n\t\t\t\treturn this.addFlag(ref);\n\t\t\t};\n\t\t});\n\t};\n};\n\nImba.Tag;\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\n\nImba.defineTag('fragment', 'element', function(tag){\n\ttag.createNode = function (){\n\t\treturn Imba.document().createDocumentFragment();\n\t};\n});\n\nImba.extendTag('html', function(tag){\n\ttag.prototype.parent = function (){\n\t\treturn null;\n\t};\n});\n\nImba.extendTag('canvas', function(tag){\n\ttag.prototype.context = function (type){\n\t\tif(type === undefined) type = '2d';\n\t\treturn this.dom().getContext(type);\n\t};\n});\n\nfunction DataProxy(node,path,args){\n\tthis._node = node;\n\tthis._path = path;\n\tthis._args = args;\n\tif (this._args) { this._setter = Imba.toSetter(this._path) };\n};\n\nDataProxy.bind = function (receiver,data,path,args){\n\tlet proxy = receiver._data || (receiver._data = new this(receiver,path,args));\n\tproxy.bind(data,path,args);\n\treturn receiver;\n};\n\nDataProxy.prototype.bind = function (data,key,args){\n\tif (data != this._data) {\n\t\tthis._data = data;\n\t};\n\treturn this;\n};\n\nDataProxy.prototype.getFormValue = function (){\n\treturn this._setter ? this._data[this._path]() : this._data[this._path];\n};\n\nDataProxy.prototype.setFormValue = function (value){\n\treturn this._setter ? this._data[this._setter](value) : ((this._data[this._path] = value));\n};\n\n\nvar isArray = function(val) {\n\treturn val && val.splice && val.sort;\n};\n\nvar isSimilarArray = function(a,b) {\n\tlet l = a.length,i = 0;\n\tif (l != b.length) { return false };\n\twhile (i++ < l){\n\t\tif (a[i] != b[i]) { return false };\n\t};\n\treturn true;\n};\n\nImba.extendTag('input', function(tag){\n\ttag.prototype.lazy = function(v){ return this._lazy; }\n\ttag.prototype.setLazy = function(v){ this._lazy = v; return this; };\n\ttag.prototype.number = function(v){ return this._number; }\n\ttag.prototype.setNumber = function(v){ this._number = v; return this; };\n\t\n\ttag.prototype.bindData = function (target,path,args){\n\t\tDataProxy.bind(this,target,path,args);\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.checked = function (){\n\t\treturn this._dom.checked;\n\t};\n\t\n\ttag.prototype.setChecked = function (value){\n\t\tif (!(!(value)) != this._dom.checked) {\n\t\t\tthis._dom.checked = !(!(value));\n\t\t};\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.setValue = function (value,source){\n\t\tif (this._localValue == undefined || source == undefined) {\n\t\t\tthis.dom().value = this._value = value;\n\t\t\tthis._localValue = undefined;\n\t\t};\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.setType = function (value){\n\t\tthis.dom().type = this._type = value;\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.value = function (){\n\t\tlet val = this._dom.value;\n\t\treturn (this._number && val) ? parseFloat(val) : val;\n\t};\n\t\n\ttag.prototype.oninput = function (e){\n\t\tlet val = this._dom.value;\n\t\tthis._localValue = val;\n\t\tif (this._data && !(this.lazy()) && this.type() != 'radio' && this.type() != 'checkbox') {\n\t\t\tthis._data.setFormValue(this.value(),this);\n\t\t};\n\t\treturn;\n\t};\n\t\n\ttag.prototype.onchange = function (e){\n\t\tthis._modelValue = this._localValue = undefined;\n\t\tif (!(this.data())) { return };\n\t\t\n\t\tif (this.type() == 'radio' || this.type() == 'checkbox') {\n\t\t\tlet checked = this.checked();\n\t\t\tlet mval = this._data.getFormValue(this);\n\t\t\tlet dval = (this._value != undefined) ? this._value : this.value();\n\t\t\t\n\t\t\tif (this.type() == 'radio') {\n\t\t\t\treturn this._data.setFormValue(dval,this);\n\t\t\t} else if (this.dom().value == 'on' || this.dom().value == undefined) {\n\t\t\t\treturn this._data.setFormValue(!(!(checked)),this);\n\t\t\t} else if (isArray(mval)) {\n\t\t\t\tlet idx = mval.indexOf(dval);\n\t\t\t\tif (checked && idx == -1) {\n\t\t\t\t\treturn mval.push(dval);\n\t\t\t\t} else if (!(checked) && idx >= 0) {\n\t\t\t\t\treturn mval.splice(idx,1);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn this._data.setFormValue(dval,this);\n\t\t\t};\n\t\t} else {\n\t\t\treturn this._data.setFormValue(this.value());\n\t\t};\n\t};\n\t\n\ttag.prototype.onblur = function (e){\n\t\treturn this._localValue = undefined;\n\t};\n\t\n\t\n\ttag.prototype.end = function (){\n\t\tif (this._localValue !== undefined || !this._data) {\n\t\t\treturn this;\n\t\t};\n\t\t\n\t\tlet mval = this._data.getFormValue(this);\n\t\tif (mval === this._modelValue) { return this };\n\t\tif (!isArray(mval)) { this._modelValue = mval };\n\t\t\n\t\tif (this.type() == 'radio' || this.type() == 'checkbox') {\n\t\t\tlet dval = this._value;\n\t\t\tlet checked = isArray(mval) ? (\n\t\t\t\tmval.indexOf(dval) >= 0\n\t\t\t) : ((this.dom().value == 'on' || this.dom().value == undefined) ? (\n\t\t\t\t!(!(mval))\n\t\t\t) : (\n\t\t\t\tmval == this._value\n\t\t\t));\n\t\t\t\n\t\t\tthis.setChecked(checked);\n\t\t} else {\n\t\t\tthis._dom.value = mval;\n\t\t};\n\t\treturn this;\n\t};\n});\n\nImba.extendTag('textarea', function(tag){\n\ttag.prototype.lazy = function(v){ return this._lazy; }\n\ttag.prototype.setLazy = function(v){ this._lazy = v; return this; };\n\t\n\ttag.prototype.bindData = function (target,path,args){\n\t\tDataProxy.bind(this,target,path,args);\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.setValue = function (value,source){\n\t\tif (this._localValue == undefined || source == undefined) {\n\t\t\tthis.dom().value = value;\n\t\t\tthis._localValue = undefined;\n\t\t};\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.oninput = function (e){\n\t\tlet val = this._dom.value;\n\t\tthis._localValue = val;\n\t\tif (this._data && !(this.lazy())) { return this._data.setFormValue(this.value(),this) };\n\t};\n\t\n\ttag.prototype.onchange = function (e){\n\t\tthis._localValue = undefined;\n\t\tif (this._data) { return this._data.setFormValue(this.value(),this) };\n\t};\n\t\n\ttag.prototype.onblur = function (e){\n\t\treturn this._localValue = undefined;\n\t};\n\t\n\ttag.prototype.render = function (){\n\t\tif (this._localValue != undefined || !this._data) { return };\n\t\tif (this._data) {\n\t\t\tlet dval = this._data.getFormValue(this);\n\t\t\tthis._dom.value = (dval != undefined) ? dval : '';\n\t\t};\n\t\treturn this;\n\t};\n});\n\nImba.extendTag('option', function(tag){\n\ttag.prototype.setValue = function (value){\n\t\tif (value != this._value) {\n\t\t\tthis.dom().value = this._value = value;\n\t\t};\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.value = function (){\n\t\treturn this._value || this.dom().value;\n\t};\n});\n\nImba.extendTag('select', function(tag){\n\ttag.prototype.bindData = function (target,path,args){\n\t\tDataProxy.bind(this,target,path,args);\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.setValue = function (value,syncing){\n\t\tlet prev = this._value;\n\t\tthis._value = value;\n\t\tif (!(syncing)) { this.syncValue(value) };\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.syncValue = function (value){\n\t\tlet prev = this._syncValue;\n\t\t\n\t\tif (this.multiple() && (value instanceof Array)) {\n\t\t\tif ((prev instanceof Array) && isSimilarArray(prev,value)) {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\t\n\t\t\tvalue = value.slice();\n\t\t};\n\t\t\n\t\tthis._syncValue = value;\n\t\t\n\t\tif (typeof value == 'object') {\n\t\t\tlet mult = this.multiple() && (value instanceof Array);\n\t\t\t\n\t\t\tfor (let i = 0, items = iter$(this.dom().options), len = items.length, opt; i < len; i++) {\n\t\t\t\topt = items[i];\n\t\t\t\tlet oval = (opt._tag ? opt._tag.value() : opt.value);\n\t\t\t\tif (mult) {\n\t\t\t\t\topt.selected = value.indexOf(oval) >= 0;\n\t\t\t\t} else if (value == oval) {\n\t\t\t\t\tthis.dom().selectedIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t};\n\t\t\t};\n\t\t} else {\n\t\t\tthis.dom().value = value;\n\t\t};\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.value = function (){\n\t\tif (this.multiple()) {\n\t\t\tlet res = [];\n\t\t\tfor (let i = 0, items = iter$(this.dom().selectedOptions), len = items.length, option; i < len; i++) {\n\t\t\t\toption = items[i];\n\t\t\t\tres.push(option._tag ? option._tag.value() : option.value);\n\t\t\t};\n\t\t\treturn res;\n\t\t} else {\n\t\t\tlet opt = this.dom().selectedOptions[0];\n\t\t\treturn opt ? ((opt._tag ? opt._tag.value() : opt.value)) : null;\n\t\t};\n\t};\n\t\n\ttag.prototype.onchange = function (e){\n\t\tif (this._data) { return this._data.setFormValue(this.value(),this) };\n\t};\n\t\n\ttag.prototype.end = function (){\n\t\tif (this._data) {\n\t\t\tthis.setValue(this._data.getFormValue(this),1);\n\t\t};\n\t\t\n\t\tif (this._value != this._syncValue) {\n\t\t\tthis.syncValue(this._value);\n\t\t};\n\t\treturn this;\n\t};\n});\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\n\n\n\n\n\n\n\n\n\n\nImba.Touch = function Touch(event,pointer){\n\t// @native  = false\n\tthis.setEvent(event);\n\tthis.setData({});\n\tthis.setActive(true);\n\tthis._button = event && event.button || 0;\n\tthis._suppress = false; \n\tthis._captured = false;\n\tthis.setBubble(false);\n\tpointer = pointer;\n\tthis.setUpdates(0);\n\treturn this;\n};\n\nImba.Touch.LastTimestamp = 0;\nImba.Touch.TapTimeout = 50;\n\n\n\nvar touches = [];\nvar count = 0;\nvar identifiers = {};\n\nImba.Touch.count = function (){\n\treturn count;\n};\n\nImba.Touch.lookup = function (item){\n\treturn item && (item.__touch__ || identifiers[item.identifier]);\n};\n\nImba.Touch.release = function (item,touch){\n\tvar v_, $1;\n\t(((v_ = identifiers[item.identifier]),delete identifiers[item.identifier], v_));\n\t((($1 = item.__touch__),delete item.__touch__, $1));\n\treturn;\n};\n\nImba.Touch.ontouchstart = function (e){\n\tfor (let i = 0, items = iter$(e.changedTouches), len = items.length, t; i < len; i++) {\n\t\tt = items[i];\n\t\tif (this.lookup(t)) { continue; };\n\t\tvar touch = identifiers[t.identifier] = new this(e); \n\t\tt.__touch__ = touch;\n\t\ttouches.push(touch);\n\t\tcount++;\n\t\ttouch.touchstart(e,t);\n\t};\n\treturn this;\n};\n\nImba.Touch.ontouchmove = function (e){\n\tvar touch;\n\tfor (let i = 0, items = iter$(e.changedTouches), len = items.length, t; i < len; i++) {\n\t\tt = items[i];\n\t\tif (touch = this.lookup(t)) {\n\t\t\ttouch.touchmove(e,t);\n\t\t};\n\t};\n\t\n\treturn this;\n};\n\nImba.Touch.ontouchend = function (e){\n\tvar touch;\n\tfor (let i = 0, items = iter$(e.changedTouches), len = items.length, t; i < len; i++) {\n\t\tt = items[i];\n\t\tif (touch = this.lookup(t)) {\n\t\t\ttouch.touchend(e,t);\n\t\t\tthis.release(t,touch);\n\t\t\tcount--;\n\t\t};\n\t};\n\t\n\t\n\t\n\t\n\treturn this;\n};\n\nImba.Touch.ontouchcancel = function (e){\n\tvar touch;\n\tfor (let i = 0, items = iter$(e.changedTouches), len = items.length, t; i < len; i++) {\n\t\tt = items[i];\n\t\tif (touch = this.lookup(t)) {\n\t\t\ttouch.touchcancel(e,t);\n\t\t\tthis.release(t,touch);\n\t\t\tcount--;\n\t\t};\n\t};\n\treturn this;\n};\n\nImba.Touch.onmousedown = function (e){\n\treturn this;\n};\n\nImba.Touch.onmousemove = function (e){\n\treturn this;\n};\n\nImba.Touch.onmouseup = function (e){\n\treturn this;\n};\n\n\nImba.Touch.prototype.phase = function(v){ return this._phase; }\nImba.Touch.prototype.setPhase = function(v){ this._phase = v; return this; };\nImba.Touch.prototype.active = function(v){ return this._active; }\nImba.Touch.prototype.setActive = function(v){ this._active = v; return this; };\nImba.Touch.prototype.event = function(v){ return this._event; }\nImba.Touch.prototype.setEvent = function(v){ this._event = v; return this; };\nImba.Touch.prototype.pointer = function(v){ return this._pointer; }\nImba.Touch.prototype.setPointer = function(v){ this._pointer = v; return this; };\nImba.Touch.prototype.target = function(v){ return this._target; }\nImba.Touch.prototype.setTarget = function(v){ this._target = v; return this; };\nImba.Touch.prototype.handler = function(v){ return this._handler; }\nImba.Touch.prototype.setHandler = function(v){ this._handler = v; return this; };\nImba.Touch.prototype.updates = function(v){ return this._updates; }\nImba.Touch.prototype.setUpdates = function(v){ this._updates = v; return this; };\nImba.Touch.prototype.suppress = function(v){ return this._suppress; }\nImba.Touch.prototype.setSuppress = function(v){ this._suppress = v; return this; };\nImba.Touch.prototype.data = function(v){ return this._data; }\nImba.Touch.prototype.setData = function(v){ this._data = v; return this; };\nImba.Touch.prototype.__bubble = {chainable: true,name: 'bubble'};\nImba.Touch.prototype.bubble = function(v){ return v !== undefined ? (this.setBubble(v),this) : this._bubble; }\nImba.Touch.prototype.setBubble = function(v){ this._bubble = v; return this; };\nImba.Touch.prototype.timestamp = function(v){ return this._timestamp; }\nImba.Touch.prototype.setTimestamp = function(v){ this._timestamp = v; return this; };\n\nImba.Touch.prototype.gestures = function(v){ return this._gestures; }\nImba.Touch.prototype.setGestures = function(v){ this._gestures = v; return this; };\n\n\n\nImba.Touch.prototype.capture = function (){\n\tthis._captured = true;\n\tthis._event && this._event.stopPropagation();\n\tif (!this._selblocker) {\n\t\tthis._selblocker = function(e) { return e.preventDefault(); };\n\t\tImba.document().addEventListener('selectstart',this._selblocker,true);\n\t};\n\treturn this;\n};\n\nImba.Touch.prototype.isCaptured = function (){\n\treturn !(!this._captured);\n};\n\n\n\nImba.Touch.prototype.extend = function (plugin){\n\t// console.log \"added gesture!!!\"\n\tthis._gestures || (this._gestures = []);\n\tthis._gestures.push(plugin);\n\treturn this;\n};\n\n\n\nImba.Touch.prototype.redirect = function (target){\n\tthis._redirect = target;\n\treturn this;\n};\n\n\n\nImba.Touch.prototype.suppress = function (){\n\t// collision with the suppress property\n\tthis._active = false;\n\t\n\treturn this;\n};\n\nImba.Touch.prototype.setSuppress = function (value){\n\tconsole.warn('Imba.Touch#suppress= is deprecated');\n\tthis._supress = value;\n\tthis;\n\treturn this;\n};\n\nImba.Touch.prototype.touchstart = function (e,t){\n\tthis._event = e;\n\tthis._touch = t;\n\tthis._button = 0;\n\tthis._x = t.clientX;\n\tthis._y = t.clientY;\n\tthis.began();\n\tthis.update();\n\tif (e && this.isCaptured()) { e.preventDefault() };\n\treturn this;\n};\n\nImba.Touch.prototype.touchmove = function (e,t){\n\tthis._event = e;\n\tthis._x = t.clientX;\n\tthis._y = t.clientY;\n\tthis.update();\n\tif (e && this.isCaptured()) { e.preventDefault() };\n\treturn this;\n};\n\nImba.Touch.prototype.touchend = function (e,t){\n\tthis._event = e;\n\tthis._x = t.clientX;\n\tthis._y = t.clientY;\n\tthis.ended();\n\t\n\tImba.Touch.LastTimestamp = e.timeStamp;\n\t\n\tif (this._maxdr < 20) {\n\t\tvar tap = new Imba.Event(e);\n\t\ttap.setType('tap');\n\t\ttap.process();\n\t};\n\t\n\tif (e && this.isCaptured()) {\n\t\te.preventDefault();\n\t};\n\t\n\treturn this;\n};\n\nImba.Touch.prototype.touchcancel = function (e,t){\n\treturn this.cancel();\n};\n\nImba.Touch.prototype.mousedown = function (e,t){\n\tvar self = this;\n\tself._event = e;\n\tself._button = e.button;\n\tself._x = t.clientX;\n\tself._y = t.clientY;\n\tself.began();\n\tself.update();\n\tself._mousemove = function(e) { return self.mousemove(e,e); };\n\tImba.document().addEventListener('mousemove',self._mousemove,true);\n\treturn self;\n};\n\nImba.Touch.prototype.mousemove = function (e,t){\n\tthis._x = t.clientX;\n\tthis._y = t.clientY;\n\tthis._event = e;\n\tif (this.isCaptured()) { e.preventDefault() };\n\tthis.update();\n\tthis.move();\n\treturn this;\n};\n\nImba.Touch.prototype.mouseup = function (e,t){\n\tthis._x = t.clientX;\n\tthis._y = t.clientY;\n\tthis.ended();\n\treturn this;\n};\n\nImba.Touch.prototype.idle = function (){\n\treturn this.update();\n};\n\nImba.Touch.prototype.began = function (){\n\tthis._timestamp = Date.now();\n\tthis._maxdr = this._dr = 0;\n\tthis._x0 = this._x;\n\tthis._y0 = this._y;\n\t\n\tvar dom = this.event().target;\n\tvar node = null;\n\t\n\tthis._sourceTarget = dom && Imba.getTagForDom(dom);\n\t\n\twhile (dom){\n\t\tnode = Imba.getTagForDom(dom);\n\t\tif (node && node.ontouchstart) {\n\t\t\tthis._bubble = false;\n\t\t\tthis.setTarget(node);\n\t\t\tthis.target().ontouchstart(this);\n\t\t\tif (!this._bubble) { break; };\n\t\t};\n\t\tdom = dom.parentNode;\n\t};\n\t\n\tthis._updates++;\n\treturn this;\n};\n\nImba.Touch.prototype.update = function (){\n\tvar target_;\n\tif (!this._active || this._cancelled) { return this };\n\t\n\tvar dr = Math.sqrt(this.dx() * this.dx() + this.dy() * this.dy());\n\tif (dr > this._dr) { this._maxdr = dr };\n\tthis._dr = dr;\n\t\n\t\n\tif (this._redirect) {\n\t\tif (this._target && this._target.ontouchcancel) {\n\t\t\tthis._target.ontouchcancel(this);\n\t\t};\n\t\tthis.setTarget(this._redirect);\n\t\tthis._redirect = null;\n\t\tif (this.target().ontouchstart) { this.target().ontouchstart(this) };\n\t\tif (this._redirect) { return this.update() }; \n\t};\n\t\n\t\n\tthis._updates++;\n\tif (this._gestures) {\n\t\tfor (let i = 0, items = iter$(this._gestures), len = items.length; i < len; i++) {\n\t\t\titems[i].ontouchupdate(this);\n\t\t};\n\t};\n\t\n\t(target_ = this.target()) && target_.ontouchupdate  &&  target_.ontouchupdate(this);\n\tif (this._redirect) this.update();\n\treturn this;\n};\n\nImba.Touch.prototype.move = function (){\n\tvar target_;\n\tif (!this._active || this._cancelled) { return this };\n\t\n\tif (this._gestures) {\n\t\tfor (let i = 0, items = iter$(this._gestures), len = items.length, g; i < len; i++) {\n\t\t\tg = items[i];\n\t\t\tif (g.ontouchmove) { g.ontouchmove(this,this._event) };\n\t\t};\n\t};\n\t\n\t(target_ = this.target()) && target_.ontouchmove  &&  target_.ontouchmove(this,this._event);\n\treturn this;\n};\n\nImba.Touch.prototype.ended = function (){\n\tvar target_;\n\tif (!this._active || this._cancelled) { return this };\n\t\n\tthis._updates++;\n\t\n\tif (this._gestures) {\n\t\tfor (let i = 0, items = iter$(this._gestures), len = items.length; i < len; i++) {\n\t\t\titems[i].ontouchend(this);\n\t\t};\n\t};\n\t\n\t(target_ = this.target()) && target_.ontouchend  &&  target_.ontouchend(this);\n\tthis.cleanup_();\n\treturn this;\n};\n\nImba.Touch.prototype.cancel = function (){\n\tif (!this._cancelled) {\n\t\tthis._cancelled = true;\n\t\tthis.cancelled();\n\t\tthis.cleanup_();\n\t};\n\treturn this;\n};\n\nImba.Touch.prototype.cancelled = function (){\n\tvar target_;\n\tif (!this._active) { return this };\n\t\n\tthis._cancelled = true;\n\tthis._updates++;\n\t\n\tif (this._gestures) {\n\t\tfor (let i = 0, items = iter$(this._gestures), len = items.length, g; i < len; i++) {\n\t\t\tg = items[i];\n\t\t\tif (g.ontouchcancel) { g.ontouchcancel(this) };\n\t\t};\n\t};\n\t\n\t(target_ = this.target()) && target_.ontouchcancel  &&  target_.ontouchcancel(this);\n\treturn this;\n};\n\nImba.Touch.prototype.cleanup_ = function (){\n\tif (this._mousemove) {\n\t\tImba.document().removeEventListener('mousemove',this._mousemove,true);\n\t\tthis._mousemove = null;\n\t};\n\t\n\tif (this._selblocker) {\n\t\tImba.document().removeEventListener('selectstart',this._selblocker,true);\n\t\tthis._selblocker = null;\n\t};\n\t\n\treturn this;\n};\n\n\n\nImba.Touch.prototype.dr = function (){\n\treturn this._dr;\n};\n\n\n\nImba.Touch.prototype.dx = function (){\n\treturn this._x - this._x0;\n};\n\n\n\nImba.Touch.prototype.dy = function (){\n\treturn this._y - this._y0;\n};\n\n\n\nImba.Touch.prototype.x0 = function (){\n\treturn this._x0;\n};\n\n\n\nImba.Touch.prototype.y0 = function (){\n\treturn this._y0;\n};\n\n\n\nImba.Touch.prototype.x = function (){\n\treturn this._x;\n};\n\n\n\nImba.Touch.prototype.y = function (){\n\treturn this._y;\n};\n\n\n\nImba.Touch.prototype.tx = function (){\n\tthis._targetBox || (this._targetBox = this._target.dom().getBoundingClientRect());\n\treturn this._x - this._targetBox.left;\n};\n\n\n\nImba.Touch.prototype.ty = function (){\n\tthis._targetBox || (this._targetBox = this._target.dom().getBoundingClientRect());\n\treturn this._y - this._targetBox.top;\n};\n\n\n\nImba.Touch.prototype.button = function (){\n\treturn this._button;\n}; \n\nImba.Touch.prototype.sourceTarget = function (){\n\treturn this._sourceTarget;\n};\n\nImba.Touch.prototype.elapsed = function (){\n\treturn Date.now() - this._timestamp;\n};\n\n\nImba.TouchGesture = function TouchGesture(){ };\n\nImba.TouchGesture.prototype.__active = {'default': false,name: 'active'};\nImba.TouchGesture.prototype.active = function(v){ return this._active; }\nImba.TouchGesture.prototype.setActive = function(v){ this._active = v; return this; }\nImba.TouchGesture.prototype._active = false;\n\nImba.TouchGesture.prototype.ontouchstart = function (e){\n\treturn this;\n};\n\nImba.TouchGesture.prototype.ontouchupdate = function (e){\n\treturn this;\n};\n\nImba.TouchGesture.prototype.ontouchend = function (e){\n\treturn this;\n};\n\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar Imba = require(\"../imba\");\n\nvar keyCodes = {\n\tesc: 27,\n\ttab: 9,\n\tenter: 13,\n\tspace: 32,\n\tup: 38,\n\tdown: 40\n};\n\nvar el = Imba.Tag.prototype;\nel.stopModifier = function (e){\n\treturn e.stop() || true;\n};\nel.preventModifier = function (e){\n\treturn e.prevent() || true;\n};\nel.silenceModifier = function (e){\n\treturn e.silence() || true;\n};\nel.bubbleModifier = function (e){\n\treturn e.bubble(true) || true;\n};\nel.ctrlModifier = function (e){\n\treturn e.event().ctrlKey == true;\n};\nel.altModifier = function (e){\n\treturn e.event().altKey == true;\n};\nel.shiftModifier = function (e){\n\treturn e.event().shiftKey == true;\n};\nel.metaModifier = function (e){\n\treturn e.event().metaKey == true;\n};\nel.keyModifier = function (key,e){\n\treturn e.keyCode() ? ((e.keyCode() == key)) : true;\n};\nel.delModifier = function (e){\n\treturn e.keyCode() ? ((e.keyCode() == 8 || e.keyCode() == 46)) : true;\n};\nel.selfModifier = function (e){\n\treturn e.event().target == this._dom;\n};\nel.leftModifier = function (e){\n\treturn (e.button() != undefined) ? ((e.button() === 0)) : el.keyModifier(37,e);\n};\nel.rightModifier = function (e){\n\treturn (e.button() != undefined) ? ((e.button() === 2)) : el.keyModifier(39,e);\n};\nel.middleModifier = function (e){\n\treturn (e.button() != undefined) ? ((e.button() === 1)) : true;\n};\n\nel.getHandler = function (str,event){\n\tif (this[str]) {\n\t\treturn this;\n\t};\n\tif (this._owner_ && this._owner_.getHandler) {\n\t\treturn this._owner_.getHandler(str,event);\n\t};\n};\n\n\n\nImba.Event = function Event(e){\n\tthis.setEvent(e);\n\tthis._bubble = true;\n};\n\n\n\nImba.Event.prototype.event = function(v){ return this._event; }\nImba.Event.prototype.setEvent = function(v){ this._event = v; return this; };\n\nImba.Event.prototype.prefix = function(v){ return this._prefix; }\nImba.Event.prototype.setPrefix = function(v){ this._prefix = v; return this; };\n\nImba.Event.prototype.source = function(v){ return this._source; }\nImba.Event.prototype.setSource = function(v){ this._source = v; return this; };\n\nImba.Event.prototype.data = function(v){ return this._data; }\nImba.Event.prototype.setData = function(v){ this._data = v; return this; };\n\nImba.Event.prototype.responder = function(v){ return this._responder; }\nImba.Event.prototype.setResponder = function(v){ this._responder = v; return this; };\n\nImba.Event.wrap = function (e){\n\treturn new this(e);\n};\n\nImba.Event.prototype.setType = function (type){\n\tthis._type = type;\n\tthis;\n\treturn this;\n};\n\n\n\nImba.Event.prototype.type = function (){\n\treturn this._type || this.event().type;\n};\nImba.Event.prototype.native = function (){\n\treturn this._event;\n};\n\nImba.Event.prototype.name = function (){\n\treturn this._name || (this._name = this.type().toLowerCase().replace(/\\:/g,''));\n};\n\n\nImba.Event.prototype.bubble = function (v){\n\tif (v != undefined) {\n\t\tthis.setBubble(v);\n\t\treturn this;\n\t};\n\treturn this._bubble;\n};\n\nImba.Event.prototype.setBubble = function (v){\n\tthis._bubble = v;\n\treturn this;\n};\n\n\n\nImba.Event.prototype.stop = function (){\n\tthis.setBubble(false);\n\treturn this;\n};\n\nImba.Event.prototype.stopPropagation = function (){\n\treturn this.stop();\n};\nImba.Event.prototype.halt = function (){\n\treturn this.stop();\n};\n\n\nImba.Event.prototype.prevent = function (){\n\tif (this.event().preventDefault) {\n\t\tthis.event().preventDefault();\n\t} else {\n\t\tthis.event().defaultPrevented = true;\n\t};\n\tthis.defaultPrevented = true;\n\treturn this;\n};\n\nImba.Event.prototype.preventDefault = function (){\n\tconsole.warn(\"Event#preventDefault is deprecated - use Event#prevent\");\n\treturn this.prevent();\n};\n\n\n\nImba.Event.prototype.isPrevented = function (){\n\treturn this.event() && this.event().defaultPrevented;\n};\n\n\n\nImba.Event.prototype.cancel = function (){\n\tconsole.warn(\"Event#cancel is deprecated - use Event#prevent\");\n\treturn this.prevent();\n};\n\nImba.Event.prototype.silence = function (){\n\tthis._silenced = true;\n\treturn this;\n};\n\nImba.Event.prototype.isSilenced = function (){\n\treturn !(!this._silenced);\n};\n\n\n\nImba.Event.prototype.target = function (){\n\treturn Imba.getTagForDom(this.event()._target || this.event().target);\n};\n\n\n\nImba.Event.prototype.responder = function (){\n\treturn this._responder;\n};\n\n\n\nImba.Event.prototype.redirect = function (node){\n\tthis._redirect = node;\n\treturn this;\n};\n\nImba.Event.prototype.processHandlers = function (node,handlers){\n\tlet i = 1;\n\tlet l = handlers.length;\n\tlet bubble = this._bubble;\n\tlet state = handlers.state || (handlers.state = {});\n\tlet result;\n\t\n\tif (bubble) {\n\t\tthis._bubble = 1;\n\t};\n\t\n\twhile (i < l){\n\t\tlet isMod = false;\n\t\tlet handler = handlers[i++];\n\t\tlet params = null;\n\t\tlet context = node;\n\t\tlet checkSpecial = false;\n\t\t\n\t\tif (handler instanceof Array) {\n\t\t\tparams = handler.slice(1);\n\t\t\tcheckSpecial = true;\n\t\t\thandler = handler[0];\n\t\t};\n\t\t\n\t\tif (typeof handler == 'string') {\n\t\t\tif (keyCodes[handler]) {\n\t\t\t\tparams = [keyCodes[handler]];\n\t\t\t\thandler = 'key';\n\t\t\t};\n\t\t\t\n\t\t\tlet mod = handler + 'Modifier';\n\t\t\t\n\t\t\tif (node[mod]) {\n\t\t\t\tisMod = true;\n\t\t\t\tparams = (params || []).concat([this,state]);\n\t\t\t\thandler = node[mod];\n\t\t\t};\n\t\t};\n\t\t\n\t\t\n\t\t\n\t\tif (typeof handler == 'string') {\n\t\t\tlet el = node;\n\t\t\tlet fn = null;\n\t\t\tlet ctx = state.context;\n\t\t\t\n\t\t\tif (ctx) {\n\t\t\t\tif (ctx.getHandler instanceof Function) {\n\t\t\t\t\tctx = ctx.getHandler(handler,this);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (ctx[handler] instanceof Function) {\n\t\t\t\t\thandler = fn = ctx[handler];\n\t\t\t\t\tcontext = ctx;\n\t\t\t\t};\n\t\t\t};\n\t\t\t\n\t\t\tif (!(fn)) {\n\t\t\t\tconsole.warn((\"event \" + this.type() + \": could not find '\" + handler + \"' in context\"),ctx);\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t};\n\t\t\n\t\tif (handler instanceof Function) {\n\t\t\t// what if we actually call stop inside function?\n\t\t\t// do we still want to continue the chain?\n\t\t\t\n\t\t\t// loop through special variables from params?\n\t\t\t\n\t\t\tif (checkSpecial) {\n\t\t\t\t// replacing special params\n\t\t\t\tfor (let i = 0, items = iter$(params), len = items.length, param; i < len; i++) {\n\t\t\t\t\tparam = items[i];\n\t\t\t\t\tif (typeof param == 'string' && param[0] == '~' && param[1] == '$') {\n\t\t\t\t\t\tlet name = param.slice(2);\n\t\t\t\t\t\tif (name == 'event') {\n\t\t\t\t\t\t\tparams[i] = this;\n\t\t\t\t\t\t} else if (this[name] instanceof Function) {\n\t\t\t\t\t\t\tparams[i] = this[name]();\n\t\t\t\t\t\t} else if (node[name] instanceof Function) {\n\t\t\t\t\t\t\tparams[i] = node[name]();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn((\"Missing special handler $\" + name));\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t\t\n\t\t\tlet res = handler.apply(context,params || [this]);\n\t\t\t\n\t\t\tif (!(isMod)) {\n\t\t\t\tthis._responder || (this._responder = node);\n\t\t\t};\n\t\t\t\n\t\t\tif (res == false) {\n\t\t\t\t// console.log \"returned false - breaking\"\n\t\t\t\tbreak;\n\t\t\t};\n\t\t\t\n\t\t\tif (res && !this._silenced && (res.then instanceof Function)) {\n\t\t\t\tres.then(Imba.commit);\n\t\t\t};\n\t\t};\n\t};\n\t\n\t\n\tif (this._bubble === 1) {\n\t\tthis._bubble = bubble;\n\t};\n\t\n\treturn null;\n};\n\nImba.Event.prototype.process = function (){\n\tvar name = this.name();\n\tvar meth = (\"on\" + (this._prefix || '') + name);\n\tvar args = null;\n\tvar domtarget = this.event()._target || this.event().target;\n\tvar domnode = domtarget._responder || domtarget;\n\t\n\tvar result;\n\tvar handlers;\n\t\n\twhile (domnode){\n\t\tthis._redirect = null;\n\t\tlet node = domnode._dom ? domnode : domnode._tag;\n\t\t\n\t\tif (node) {\n\t\t\tif (handlers = node._on_) {\n\t\t\t\tfor (let i = 0, items = iter$(handlers), len = items.length, handler; i < len; i++) {\n\t\t\t\t\thandler = items[i];\n\t\t\t\t\tif (!(handler)) { continue; };\n\t\t\t\t\tlet hname = handler[0];\n\t\t\t\t\tif (name == handler[0] && this.bubble()) {\n\t\t\t\t\t\tthis.processHandlers(node,handler);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\tif (!(this.bubble())) { break; };\n\t\t\t};\n\t\t\t\n\t\t\tif (this.bubble() && (node[meth] instanceof Function)) {\n\t\t\t\tthis._responder || (this._responder = node);\n\t\t\t\tthis._silenced = false;\n\t\t\t\tresult = args ? node[meth].apply(node,args) : node[meth](this,this.data());\n\t\t\t};\n\t\t\t\n\t\t\tif (node.onevent) {\n\t\t\t\tnode.onevent(this);\n\t\t\t};\n\t\t};\n\t\t\n\t\t\n\t\tif (!(this.bubble() && (domnode = (this._redirect || (node ? node.parent() : domnode.parentNode))))) {\n\t\t\tbreak;\n\t\t};\n\t};\n\t\n\tthis.processed();\n\t\n\t\n\t\n\tif (result && (result.then instanceof Function)) {\n\t\tresult.then(this.processed.bind(this));\n\t};\n\treturn this;\n};\n\n\nImba.Event.prototype.processed = function (){\n\tif (!this._silenced && this._responder) {\n\t\tImba.emit(Imba,'event',[this]);\n\t\tImba.commit(this.event());\n\t};\n\treturn this;\n};\n\n\n\nImba.Event.prototype.x = function (){\n\treturn this.native().x;\n};\n\n\n\nImba.Event.prototype.y = function (){\n\treturn this.native().y;\n};\n\nImba.Event.prototype.button = function (){\n\treturn this.native().button;\n};\nImba.Event.prototype.keyCode = function (){\n\treturn this.native().keyCode;\n};\nImba.Event.prototype.ctrl = function (){\n\treturn this.native().ctrlKey;\n};\nImba.Event.prototype.alt = function (){\n\treturn this.native().altKey;\n};\nImba.Event.prototype.shift = function (){\n\treturn this.native().shiftKey;\n};\nImba.Event.prototype.meta = function (){\n\treturn this.native().metaKey;\n};\nImba.Event.prototype.key = function (){\n\treturn this.native().key;\n};\n\n\n\nImba.Event.prototype.which = function (){\n\treturn this.event().which;\n};\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar self = {};\n// externs;\n\nvar Imba = require(\"../imba\");\n\nvar removeNested = function(root,node,caret) {\n\t// if node/nodes isa String\n\t// \twe need to use the caret to remove elements\n\t// \tfor now we will simply not support this\n\tif (node instanceof Array) {\n\t\tfor (let i = 0, items = iter$(node), len = items.length; i < len; i++) {\n\t\t\tremoveNested(root,items[i],caret);\n\t\t};\n\t} else if (node && node._slot_) {\n\t\troot.removeChild(node);\n\t} else if (node != null) {\n\t\t// what if this is not null?!?!?\n\t\t// take a chance and remove a text-elementng\n\t\tlet next = caret ? caret.nextSibling : root._dom.firstChild;\n\t\tif ((next instanceof Text) && next.textContent == node) {\n\t\t\troot.removeChild(next);\n\t\t} else {\n\t\t\tthrow 'cannot remove string';\n\t\t};\n\t};\n\t\n\treturn caret;\n};\n\nvar appendNested = function(root,node) {\n\tif (node instanceof Array) {\n\t\tlet i = 0;\n\t\tlet c = node.taglen;\n\t\tlet k = (c != null) ? ((node.domlen = c)) : node.length;\n\t\twhile (i < k){\n\t\t\tappendNested(root,node[i++]);\n\t\t};\n\t} else if (node && node._dom) {\n\t\troot.appendChild(node);\n\t} else if (node != null && node !== false) {\n\t\troot.appendChild(Imba.createTextNode(node));\n\t};\n\t\n\treturn;\n};\n\n\n\n\n\n\nvar insertNestedBefore = function(root,node,before) {\n\tif (node instanceof Array) {\n\t\tlet i = 0;\n\t\tlet c = node.taglen;\n\t\tlet k = (c != null) ? ((node.domlen = c)) : node.length;\n\t\twhile (i < k){\n\t\t\tinsertNestedBefore(root,node[i++],before);\n\t\t};\n\t} else if (node && node._dom) {\n\t\troot.insertBefore(node,before);\n\t} else if (node != null && node !== false) {\n\t\troot.insertBefore(Imba.createTextNode(node),before);\n\t};\n\t\n\treturn before;\n};\n\n\nself.insertNestedAfter = function (root,node,after){\n\tvar before = after ? after.nextSibling : root._dom.firstChild;\n\t\n\tif (before) {\n\t\tinsertNestedBefore(root,node,before);\n\t\treturn before.previousSibling;\n\t} else {\n\t\tappendNested(root,node);\n\t\treturn root._dom.lastChild;\n\t};\n};\n\nvar reconcileCollectionChanges = function(root,new$,old,caret) {\n\t\n\tvar newLen = new$.length;\n\tvar lastNew = new$[newLen - 1];\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar newPosition = [];\n\t\n\t\n\tvar prevChain = [];\n\t\n\tvar lengthChain = [];\n\t\n\t\n\tvar maxChainLength = 0;\n\tvar maxChainEnd = 0;\n\t\n\tvar hasTextNodes = false;\n\tvar newPos;\n\t\n\tfor (let idx = 0, items = iter$(old), len = items.length, node; idx < len; idx++) {\n\t\t// special case for Text nodes\n\t\tnode = items[idx];\n\t\tif (node && node.nodeType == 3) {\n\t\t\tnewPos = new$.indexOf(node.textContent);\n\t\t\tif (newPos >= 0) { new$[newPos] = node };\n\t\t\thasTextNodes = true;\n\t\t} else {\n\t\t\tnewPos = new$.indexOf(node);\n\t\t};\n\t\t\n\t\tnewPosition.push(newPos);\n\t\t\n\t\tif (newPos == -1) {\n\t\t\troot.removeChild(node);\n\t\t\tprevChain.push(-1);\n\t\t\tlengthChain.push(-1);\n\t\t\tcontinue;\n\t\t};\n\t\t\n\t\tvar prevIdx = newPosition.length - 2;\n\t\t\n\t\t\n\t\twhile (prevIdx >= 0){\n\t\t\tif (newPosition[prevIdx] == -1) {\n\t\t\t\tprevIdx--;\n\t\t\t} else if (newPos > newPosition[prevIdx]) {\n\t\t\t\t// Yay, we're bigger than the previous!\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t// Nope, let's walk back the chain\n\t\t\t\tprevIdx = prevChain[prevIdx];\n\t\t\t};\n\t\t};\n\t\t\n\t\tprevChain.push(prevIdx);\n\t\t\n\t\tvar currLength = (prevIdx == -1) ? 0 : (lengthChain[prevIdx] + 1);\n\t\t\n\t\tif (currLength > maxChainLength) {\n\t\t\tmaxChainLength = currLength;\n\t\t\tmaxChainEnd = idx;\n\t\t};\n\t\t\n\t\tlengthChain.push(currLength);\n\t};\n\t\n\tvar stickyNodes = [];\n\t\n\t\n\t\n\tvar cursor = newPosition.length - 1;\n\twhile (cursor >= 0){\n\t\tif (cursor == maxChainEnd && newPosition[cursor] != -1) {\n\t\t\tstickyNodes[newPosition[cursor]] = true;\n\t\t\tmaxChainEnd = prevChain[maxChainEnd];\n\t\t};\n\t\t\n\t\tcursor -= 1;\n\t};\n\t\n\t\n\tfor (let idx = 0, items = iter$(new$), len = items.length, node; idx < len; idx++) {\n\t\tnode = items[idx];\n\t\tif (!stickyNodes[idx]) {\n\t\t\t// create textnode for string, and update the array\n\t\t\tif (!(node && node._dom)) {\n\t\t\t\tnode = new$[idx] = Imba.createTextNode(node);\n\t\t\t};\n\t\t\t\n\t\t\tvar after = new$[idx - 1];\n\t\t\tself.insertNestedAfter(root,node,(after && after._slot_ || after || caret));\n\t\t};\n\t\t\n\t\tcaret = node._slot_ || (caret && caret.nextSibling || root._dom.firstChild);\n\t};\n\t\n\t\n\treturn lastNew && lastNew._slot_ || caret;\n};\n\n\n\nvar reconcileCollection = function(root,new$,old,caret) {\n\tvar k = new$.length;\n\tvar i = k;\n\tvar last = new$[k - 1];\n\t\n\t\n\tif (k == old.length && new$[0] === old[0]) {\n\t\t// running through to compare\n\t\twhile (i--){\n\t\t\tif (new$[i] !== old[i]) { break; };\n\t\t};\n\t};\n\t\n\tif (i == -1) {\n\t\treturn last && last._slot_ || last || caret;\n\t} else {\n\t\treturn reconcileCollectionChanges(root,new$,old,caret);\n\t};\n};\n\n\n\nvar reconcileLoop = function(root,new$,old,caret) {\n\tvar nl = new$.length;\n\tvar ol = old.length;\n\tvar cl = new$.cache.i$; \n\tvar i = 0,d = nl - ol;\n\t\n\t\n\t\n\t\n\twhile (i < ol && i < nl && new$[i] === old[i]){\n\t\ti++;\n\t};\n\t\n\t\n\tif (cl > 1000 && (cl - nl) > 500) {\n\t\tnew$.cache.$prune(new$);\n\t};\n\t\n\tif (d > 0 && i == ol) {\n\t\t// added at end\n\t\twhile (i < nl){\n\t\t\troot.appendChild(new$[i++]);\n\t\t};\n\t\treturn;\n\t} else if (d > 0) {\n\t\tlet i1 = nl;\n\t\twhile (i1 > i && new$[i1 - 1] === old[i1 - 1 - d]){\n\t\t\ti1--;\n\t\t};\n\t\t\n\t\tif (d == (i1 - i)) {\n\t\t\tlet before = old[i]._slot_;\n\t\t\twhile (i < i1){\n\t\t\t\troot.insertBefore(new$[i++],before);\n\t\t\t};\n\t\t\treturn;\n\t\t};\n\t} else if (d < 0 && i == nl) {\n\t\t// removed at end\n\t\twhile (i < ol){\n\t\t\troot.removeChild(old[i++]);\n\t\t};\n\t\treturn;\n\t} else if (d < 0) {\n\t\tlet i1 = ol;\n\t\twhile (i1 > i && new$[i1 - 1 + d] === old[i1 - 1]){\n\t\t\ti1--;\n\t\t};\n\t\t\n\t\tif (d == (i - i1)) {\n\t\t\twhile (i < i1){\n\t\t\t\troot.removeChild(old[i++]);\n\t\t\t};\n\t\t\treturn;\n\t\t};\n\t} else if (i == nl) {\n\t\treturn;\n\t};\n\t\n\treturn reconcileCollectionChanges(root,new$,old,caret);\n};\n\n\nvar reconcileIndexedArray = function(root,array,old,caret) {\n\tvar newLen = array.taglen;\n\tvar prevLen = array.domlen || 0;\n\tvar last = newLen ? array[newLen - 1] : null;\n\t\n\t\n\tif (prevLen > newLen) {\n\t\twhile (prevLen > newLen){\n\t\t\tvar item = array[--prevLen];\n\t\t\troot.removeChild(item._slot_);\n\t\t};\n\t} else if (newLen > prevLen) {\n\t\t// find the item to insert before\n\t\tlet prevLast = prevLen ? array[prevLen - 1]._slot_ : caret;\n\t\tlet before = prevLast ? prevLast.nextSibling : root._dom.firstChild;\n\t\t\n\t\twhile (prevLen < newLen){\n\t\t\tlet node = array[prevLen++];\n\t\t\tbefore ? root.insertBefore(node._slot_,before) : root.appendChild(node._slot_);\n\t\t};\n\t};\n\t\n\tarray.domlen = newLen;\n\treturn last ? last._slot_ : caret;\n};\n\n\n\n\nvar reconcileNested = function(root,new$,old,caret) {\n\t\n\t// var skipnew = new == null or new === false or new === true\n\tvar newIsNull = new$ == null || new$ === false;\n\tvar oldIsNull = old == null || old === false;\n\t\n\t\n\tif (new$ === old) {\n\t\t// remember that the caret must be an actual dom element\n\t\t// we should instead move the actual caret? - trust\n\t\tif (newIsNull) {\n\t\t\treturn caret;\n\t\t} else if (new$._slot_) {\n\t\t\treturn new$._slot_;\n\t\t} else if ((new$ instanceof Array) && new$.taglen != null) {\n\t\t\treturn reconcileIndexedArray(root,new$,old,caret);\n\t\t} else {\n\t\t\treturn caret ? caret.nextSibling : root._dom.firstChild;\n\t\t};\n\t} else if (new$ instanceof Array) {\n\t\tif (old instanceof Array) {\n\t\t\t// look for slot instead?\n\t\t\tlet typ = new$.static;\n\t\t\tif (typ || old.static) {\n\t\t\t\t// if the static is not nested - we could get a hint from compiler\n\t\t\t\t// and just skip it\n\t\t\t\tif (typ == old.static) { // should also include a reference?\n\t\t\t\t\tfor (let i = 0, items = iter$(new$), len = items.length; i < len; i++) {\n\t\t\t\t\t\t// this is where we could do the triple equal directly\n\t\t\t\t\t\tcaret = reconcileNested(root,items[i],old[i],caret);\n\t\t\t\t\t};\n\t\t\t\t\treturn caret;\n\t\t\t\t} else {\n\t\t\t\t\tremoveNested(root,old,caret);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t// Could use optimized loop if we know that it only consists of nodes\n\t\t\t\treturn reconcileCollection(root,new$,old,caret);\n\t\t\t};\n\t\t} else if (!(oldIsNull)) {\n\t\t\tif (old._slot_) {\n\t\t\t\troot.removeChild(old);\n\t\t\t} else {\n\t\t\t\t// old was a string-like object?\n\t\t\t\troot.removeChild(caret ? caret.nextSibling : root._dom.firstChild);\n\t\t\t};\n\t\t};\n\t\t\n\t\treturn self.insertNestedAfter(root,new$,caret);\n\t\t\n\t} else if (!(newIsNull) && new$._slot_) {\n\t\tif (!(oldIsNull)) { removeNested(root,old,caret) };\n\t\treturn self.insertNestedAfter(root,new$,caret);\n\t} else if (newIsNull) {\n\t\tif (!(oldIsNull)) { removeNested(root,old,caret) };\n\t\treturn caret;\n\t} else {\n\t\t// if old did not exist we need to add a new directly\n\t\tlet nextNode;\n\t\t\n\t\tif (old instanceof Array) {\n\t\t\tremoveNested(root,old,caret);\n\t\t} else if (old && old._slot_) {\n\t\t\troot.removeChild(old);\n\t\t} else if (!(oldIsNull)) {\n\t\t\t// ...\n\t\t\tnextNode = caret ? caret.nextSibling : root._dom.firstChild;\n\t\t\tif ((nextNode instanceof Text) && nextNode.textContent != new$) {\n\t\t\t\tnextNode.textContent = new$;\n\t\t\t\treturn nextNode;\n\t\t\t};\n\t\t};\n\t\t\n\t\t\n\t\treturn self.insertNestedAfter(root,new$,caret);\n\t};\n};\n\n\nImba.extendTag('element', function(tag){\n\t\n\t// 1 - static shape - unknown content\n\t// 2 - static shape and static children\n\t// 3 - single item\n\t// 4 - optimized array - only length will change\n\t// 5 - optimized collection\n\t// 6 - text only\n\t\n\ttag.prototype.setChildren = function (new$,typ){\n\t\t// if typeof new == 'string'\n\t\t// \treturn self.text = new\n\t\tvar old = this._tree_;\n\t\t\n\t\tif (new$ === old && (!(new$) || new$.taglen == undefined)) {\n\t\t\treturn this;\n\t\t};\n\t\t\n\t\tif (!(old) && typ != 3) {\n\t\t\tthis.removeAllChildren();\n\t\t\tappendNested(this,new$);\n\t\t} else if (typ == 1) {\n\t\t\tlet caret = null;\n\t\t\tfor (let i = 0, items = iter$(new$), len = items.length; i < len; i++) {\n\t\t\t\tcaret = reconcileNested(this,items[i],old[i],caret);\n\t\t\t};\n\t\t} else if (typ == 2) {\n\t\t\treturn this;\n\t\t} else if (typ == 3) {\n\t\t\tlet ntyp = typeof new$;\n\t\t\t\n\t\t\tif (ntyp != 'object') {\n\t\t\t\treturn this.setText(new$);\n\t\t\t};\n\t\t\t\n\t\t\tif (new$ && new$._dom) {\n\t\t\t\tthis.removeAllChildren();\n\t\t\t\tthis.appendChild(new$);\n\t\t\t} else if (new$ instanceof Array) {\n\t\t\t\tif (new$._type == 5 && old && old._type == 5) {\n\t\t\t\t\treconcileLoop(this,new$,old,null);\n\t\t\t\t} else if (old instanceof Array) {\n\t\t\t\t\treconcileNested(this,new$,old,null);\n\t\t\t\t} else {\n\t\t\t\t\tthis.removeAllChildren();\n\t\t\t\t\tappendNested(this,new$);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn this.setText(new$);\n\t\t\t};\n\t\t} else if (typ == 4) {\n\t\t\treconcileIndexedArray(this,new$,old,null);\n\t\t} else if (typ == 5) {\n\t\t\treconcileLoop(this,new$,old,null);\n\t\t} else if ((new$ instanceof Array) && (old instanceof Array)) {\n\t\t\treconcileNested(this,new$,old,null);\n\t\t} else {\n\t\t\t// what if text?\n\t\t\tthis.removeAllChildren();\n\t\t\tappendNested(this,new$);\n\t\t};\n\t\t\n\t\tthis._tree_ = new$;\n\t\treturn this;\n\t};\n\t\n\ttag.prototype.content = function (){\n\t\treturn this._content || this.children().toArray();\n\t};\n\t\n\ttag.prototype.setText = function (text){\n\t\tif (text != this._tree_) {\n\t\t\tvar val = (text === null || text === false) ? '' : text;\n\t\t\t(this._text_ || this._dom).textContent = val;\n\t\t\tthis._text_ || (this._text_ = this._dom.firstChild);\n\t\t\tthis._tree_ = text;\n\t\t};\n\t\treturn this;\n\t};\n});\n\n\nvar proto = Imba.Tag.prototype;\nproto.setContent = proto.setChildren;\n\n\nvar apple = typeof navigator != 'undefined' && (navigator.vendor || '').indexOf('Apple') == 0;\nif (apple) {\n\tproto.setText = function (text){\n\t\tif (text != this._tree_) {\n\t\t\tthis._dom.textContent = ((text === null || text === false) ? '' : text);\n\t\t\tthis._tree_ = text;\n\t\t};\n\t\treturn this;\n\t};\n};\n","var Imba = require(\"../imba\");\n\nrequire('./manager');\nrequire('./event-manager');\n\nImba.TagManager = new Imba.TagManagerClass();\n\nrequire('./tag');\nrequire('./html');\nrequire('./pointer');\nrequire('./touch');\nrequire('./event');\n\nif (true) {\n\trequire('./reconciler');\n};\n\nif (false) {};\n","var Imba = require(\"./imba\");\nvar activate = false;\nvar ns = ((typeof window !== 'undefined') ? window : (((typeof global !== 'undefined') ? global : null)));\n\nif (ns && ns.Imba) {\n\tconsole.warn((\"Imba v\" + (ns.Imba.VERSION) + \" is already loaded.\"));\n\tImba = ns.Imba;\n} else if (ns) {\n\tns.Imba = Imba;\n\tactivate = true;\n\tif (ns.define && ns.define.amd) {\n\t\tns.define(\"imba\",[],function() { return Imba; });\n\t};\n};\n\nmodule.exports = Imba;\n\nif (!false) {\n\trequire('./scheduler');\n\trequire('./dom/index');\n};\n\nif (activate) {\n\tImba.EventManager.activate();\n};\n\nif (false) {};\n","module.exports = require(\"./src/imba/index.imba\");\n","var Imba = require('imba'), _1 = Imba.createElement;\nvar App = Imba.defineTag('App', function(tag){\n\ttag.prototype.render = function (){\n\t\tvar $ = this.$;\n\t\treturn this.$open(0).setChildren($.$ = $.$ || [\n\t\t\t_1('div',$,0,this).flag('container').setContent([\n\t\t\t\t_1('main',$,1,0).setContent([\n\t\t\t\t\t_1('h1',$,2,1).setText(\"Cuny Family Reunion\"),\n\t\t\t\t\t_1('section',$,3,1).setContent(\n\t\t\t\t\t\t$[4] || _1('div',$,4,3).flag('ui').flag('items').setContent(\n\t\t\t\t\t\t\t$[5] || _1('div',$,5,4).flag('item').setContent([\n\t\t\t\t\t\t\t\t_1('div',$,6,5).flag('image').setContent(\n\t\t\t\t\t\t\t\t\t$[7] || _1('img',$,7,6).flag('picture').setSrc(\"fiesta.jpg\").setAlt(\"Fiesta\")\n\t\t\t\t\t\t\t\t,2),\n\t\t\t\t\t\t\t\t_1('div',$,8,5).flag('content').setContent([\n\t\t\t\t\t\t\t\t\t_1('h2',$,9,8).setText(\"Hello Cuny's\"),\n\t\t\t\t\t\t\t\t\t_1('div',$,10,8).flag('meta').setContent(\n\t\t\t\t\t\t\t\t\t\t$[11] || _1('span',$,11,10).setText(\"Wed, Feb 12th, 2020\")\n\t\t\t\t\t\t\t\t\t,2),\n\t\t\t\t\t\t\t\t\t_1('div',$,12,8).flag('description').setContent([\n\t\t\t\t\t\t\t\t\t\t_1('p',$,13,12).setContent([\"I hope all of you are planning to be in San Antonio on April 18th!  We have Lyn and Gene coming from California and Kathy coming from Illinois so this reunion is a BIG DEAL!!  You dont want to miss it! Our famous Fiesta! will just be beginning so you might want to make a weekend of it and attend some of the events.  Heres a link to the \",$[14] || _1('a',$,14,13).setHref(\"https://fiestasanantonio.org/official-fiesta-event-calendar\").setText(\"Fiesta Calendar\"),\n\t\t\t\t\t\t\t\t\t\t\".\"],2),\n\t\t\t\t\t\t\t\t\t\t_1('p',$,15,12).setText(\"See you soon, I hope!!\")\n\t\t\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t,2)\n\t\t\t\t\t,2),\n\t\t\t\t\t_1('section',$,16,1).setContent([\n\t\t\t\t\t\t_1('h2',$,17,16).setText(\"April 18th Date Set For Reunion\"),\n\t\t\t\t\t\t_1('p',$,18,16).setText(\"It has been over 3 years (Nov. 2016) since the Cunys have gotten together. And it has been over 12 years since our big reunion in July 2007. We have a lot of catching up to do!\"),\n\t\t\t\t\t\t_1('p',$,19,16).setText(\"The date is Saturday, April 18, 2020. The place is Grace Lutheran Church Fetter Hall in San Antonio, Texas. The time is 10am, with lunch served at noon. Put this info on your calendar NOW!\"),\n\t\t\t\t\t\t_1('p',$,20,16).setText(\"We have a committee of Cunys working on making this a joyous, fun, memorable reunion. We've only just begun! We will send out this newsletter with more info as things develop.\")\n\t\t\t\t\t],2),\n\t\t\t\t\t_1('section',$,21,1).setContent([\n\t\t\t\t\t\t_1('h2',$,22,21).setText(\"A Great Time to be in San Antonio\"),\n\t\t\t\t\t\t_1('p',$,23,21).setText(\"For out-of-town visitors, April is a great time to visit San Antonio. The weather is nice, meaning the terrible heat has not yet started! Also April is the month of FIESTA! So if you have the time, plan to participate in some early events. PLUS, San Antonio is a tourist city, with tons of sites to see and things to do. Grace Lutheran Church is located in downtown San Antonio so many sites are close by.\"),\n\t\t\t\t\t\t_1('p',$,24,21).setText(\"For native Texas and San Antonians, the reunion weekend would be a good time to revisit some of the old sites and discover some new ones!\")\n\t\t\t\t\t],2),\n\t\t\t\t\t_1('section',$,25,1).setContent([\n\t\t\t\t\t\t_1('h2',$,26,25).setText(\"PLEASE RSVP!!\"),\n\t\t\t\t\t\t_1('p',$,27,25).setText(\"We will be serving a barbeque lunch of 2 meats, potato salad, beans, cole slaw, bread, pickles, onions and tea. Price is $10 for adults and $5 for kids under 10.\")\n\t\t\t\t\t],2),\n\t\t\t\t\t_1('section',$,28,1).flag('masthead').setContent(\n\t\t\t\t\t\t$[29] || _1('img',$,29,28).flag('reunion-2016').flag('picture').setSrc('reunion-2016.jpg').setAlt(\"Reunion 2016\")\n\t\t\t\t\t,2),\n\t\t\t\t\t_1('section',$,30,1).setContent([\n\t\t\t\t\t\t_1('h2',$,31,30).setText(\"Hotel Information\"),\n\t\t\t\t\t\t_1('table',$,32,30).flag('ui').flag('celled').flag('table').setContent([\n\t\t\t\t\t\t\t_1('thead',$,33,32).setContent(\n\t\t\t\t\t\t\t\t$[34] || _1('tr',$,34,33).setContent([\n\t\t\t\t\t\t\t\t\t_1('th',$,35,34).setText(\"Hotel\"),\n\t\t\t\t\t\t\t\t\t_1('th',$,36,34).setText(\"Address\"),\n\t\t\t\t\t\t\t\t\t_1('th',$,37,34).setText(\"Friday\"),\n\t\t\t\t\t\t\t\t\t_1('th',$,38,34).setText(\"Saturday\")\n\t\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t\t,2),\n\t\t\t\t\t\t\t_1('tbody',$,39,32).setContent([\n\t\t\t\t\t\t\t\t_1('tr',$,40,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,41,40).setText(\"Embassy Suite\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,42,40).setText(\"125 E Houston St\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,43,40).setText(\"$230\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,44,40).setText(\"$278\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,45,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,46,45).setText(\"Contessa\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,47,45).setText(\"306 W Market St\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,48,45).setText(\"$223\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,49,45).setText(\"$314\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,50,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,51,50).setText(\"DoubleTree Downtown\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,52,50).setText(\"502 W Cesar E Chavez\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,53,50).setText(\"$92\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,54,50).setText(\"$95\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,55,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,56,55).setText(\"Hampton Inn River Riverwalk\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,57,55).setText(\"118 Soledade St\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,58,55).setText(\"$242\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,59,55).setText(\"$239\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,60,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,61,60).setText(\"Marriot Riverwalk\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,62,60).setText(\"889 E Market St\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,63,60).setText(\"$246\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,64,60).setText(\"$309\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,65,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,66,65).setText(\"Holiday Inn Downtown\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,67,65).setText(\"318 W Cesar E Chavez\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,68,65).setText(\"$125\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,69,65).setText(\"$130\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,70,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,71,70).setText(\"Hilton Palacio Del Rio\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,72,70).setText(\"200 S Alamo St\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,73,70).setText(\"$164\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,74,70).setText(\"$181\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,75,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,76,75).setText(\"Home 2 Suites\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,77,75).setText(\"94 NE 410 (Airport)\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,78,75).setText(\"$110\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,79,75).setText(\"$127\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,80,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,81,80).setText(\"Double Tree (Airport)\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,82,80).setText(\"37 NE Loop 410 @ McCullough\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,83,80).setText(\"$96\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,84,80).setText(\"$102\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,85,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,86,85).setText(\"Embassy Suites (Airport)\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,87,85).setText(\"11011 US Hwy 281 N\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,88,85).setText(\"$136\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,89,85).setText(\"$122\")\n\t\t\t\t\t\t\t\t],2),\n\t\t\t\t\t\t\t\t_1('tr',$,90,39).setContent([\n\t\t\t\t\t\t\t\t\t_1('td',$,91,90).setText(\"Hilton Garden Inn\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,92,90).setText(\"12828 San Pedro Ave\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,93,90).setText(\"$89\"),\n\t\t\t\t\t\t\t\t\t_1('td',$,94,90).setText(\"$103\")\n\t\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t],2)\n\t\t\t\t\t],2),\n\t\t\t\t\t_1('section',$,95,1).setContent([\n\t\t\t\t\t\t_1('h2',$,96,95).setText(\"Requests\"),\n\t\t\t\t\t\t_1('p',$,97,95).setText(\"We need family pictures for display at the Reunion. If you can share any, please send them to Margaret Cuny by mail or email by March 18th. 2311 Stoney Trail Cr. San Antonio, TX 78231 (mcuny110@hotmail.com)\"),\n\t\t\t\t\t\t_1('p',$,98,95).setText(\"We also need family stories! Please send them to Melodye Aldrich: PO Box 475 Adkins, TX 78201 (melladrich@gmail.com)\")\n\t\t\t\t\t],2)\n\t\t\t\t],2),\n\t\t\t\t_1('aside',$,99,0).setContent([\n\t\t\t\t\t// <div.sun-icon>\n\t\t\t\t\t//   <i.sun.icon>\n\t\t\t\t\t_1('img',$,100,99).flag('chicago-cousins').flag('picture').setSrc('chicago-cousins.jpg').setAlt(\"Chicago Cousins\"),\n\t\t\t\t\t_1('img',$,101,99).flag('basil-family').flag('picture').setSrc('basil-family.jpg').setAlt(\"Basil Family\"),\n\t\t\t\t\t_1('img',$,102,99).flag('louise-children').flag('picture').setSrc('louise-children.jpg').setAlt(\"Louise Children\"),\n\t\t\t\t\t_1('div',$,103,99).flag('location').setContent([\n\t\t\t\t\t\t_1('h2',$,104,103).setText(\"Cuny Reunion\"),\n\t\t\t\t\t\t_1('p',$,105,103).setContent([\n\t\t\t\t\t\t\t_1('div',$,106,105).setText(\"April 18, 2020\"),\n\t\t\t\t\t\t\t_1('div',$,107,105).setContent(\n\t\t\t\t\t\t\t\t$[108] || _1('a',$,108,107).setHref(\"http://www.gracesa.org\").setText(\"Grace Lutheran Church\")\n\t\t\t\t\t\t\t,2),\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_1('div',$,109,105).setContent(\n\t\t\t\t\t\t\t\t$[110] || _1('a',$,110,109).setHref(\"https://goo.gl/maps/zUi6mGKyL5eFDNoj7\").setContent([\n\t\t\t\t\t\t\t\t\t\"504 Avenue E\",\n\t\t\t\t\t\t\t\t\t_1('br',$,111,110),\n\t\t\t\t\t\t\t\t\t\"San Antonio, Texas\",\n\t\t\t\t\t\t\t\t\t_1('br',$,112,110),\n\t\t\t\t\t\t\t\t\t\"78215\"\n\t\t\t\t\t\t\t\t],2)\n\t\t\t\t\t\t\t,2)\n\t\t\t\t\t\t],2)\n\t\t\t\t\t],2),\n\t\t\t\t\t_1('div',$,113,99).flag('message').setContent([\n\t\t\t\t\t\t_1('h2',$,114,113).setText(\"More Info Coming\"),\n\t\t\t\t\t\t_1('p',$,115,113).setText(\"We will be communicating more in the coming weeks - by email, on FACEBOOK, and by mail. So look for it! We want ALL of you there!\")\n\t\t\t\t\t],2),\n\t\t\t\t\t\n\t\t\t\t\t_1('img',$,116,99).flag('chicago-cousins').flag('picture').setSrc('lena-cuny.jpg').setAlt(\"Lena Cuny\"),\n\t\t\t\t\t_1('img',$,117,99).flag('basil-family').flag('picture').setSrc('lerichs-johnson-camping-1980.jpg').setAlt(\"Camping\"),\n\t\t\t\t\t_1('img',$,118,99).flag('louise-children').flag('picture').setSrc('lois-90.jpg').setAlt(\"Lous 90th\")\n\t\t\t\t],2)\n\t\t\t],2),\n\t\t\t_1('footer',$,119,this)\n\t\t],2).synced((\n\t\t\t$[7].end(),\n\t\t\t$[14].end(),\n\t\t\t$[29].end(),\n\t\t\t$[100].end(),\n\t\t\t$[101].end(),\n\t\t\t$[102].end(),\n\t\t\t$[108].end(),\n\t\t\t$[110].end(),\n\t\t\t$[116].end(),\n\t\t\t$[117].end(),\n\t\t\t$[118].end()\n\t\t,true));\n\t};\n});\n\nImba.mount((_1(App)).end());\n"]}